/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ 300:
/***/ ((module, exports) => {



// ref: https://github.com/tc39/proposal-global
var getGlobal = function () {
	// the only reliable means to get the global object is
	// `Function('return this')()`
	// However, this causes CSP violations in Chrome apps.
	if (typeof self !== 'undefined') { return self; }
	if (typeof window !== 'undefined') { return window; }
	if (typeof global !== 'undefined') { return global; }
	throw new Error('unable to locate global object');
}

var global = getGlobal();

module.exports = exports = global.fetch;

// Needed for TypeScript and Webpack.
if (global.fetch) {
	exports["default"] = global.fetch.bind(global);
}

exports.Headers = global.Headers;
exports.Request = global.Request;
exports.Response = global.Response;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {

// UNUSED EXPORTS: AsyncAirtable, CREATED_TIME, ERROR, LAST_MODIFIED_TIME, NOW, RECORD_ID, TODAY

;// CONCATENATED MODULE: ./src/arrayFunctions.ts

const arrayFunctions = {
    $arrayCompact: (val) => {
        return `ARRAYCOMPACT(${queryBuilder(val)})`;
    },
    $arrayFlatten: (val) => {
        return `ARRAYFLATTEN(${queryBuilder(val)})`;
    },
    $arrayUnique: (val) => {
        return `ARRAYUNIQUE(${queryBuilder(val)})`;
    },
    $arrayJoin: (val, seperator = ',') => {
        return `ARRAYJOIN(${queryBuilder(val)}, ${queryBuilder(seperator)})`;
    },
};

;// CONCATENATED MODULE: ./src/baseHandlers.ts
const booleanHandler = (bool) => {
    return bool ? 'TRUE()' : 'FALSE()';
};
const baseHandler = (val) => {
    if (val === null) {
        return 'BLANK()';
    }
    switch (typeof val) {
        case 'number':
            return `${val}`;
        case 'string':
            return `'${val}'`;
        case 'boolean':
            return booleanHandler(val);
    }
};

;// CONCATENATED MODULE: ./src/typeCheckers.ts
const checkProperty = (obj, prop, typeCheck) => Object.prototype.hasOwnProperty.call(obj, prop) &&
    (typeCheck !== undefined ? typeCheck(obj[prop]) : true);
const isQueryObject = (item) => {
    if (item === undefined)
        throw new Error('Missing Query Object');
    return item !== null && typeof item === 'object' && !Array.isArray(item);
};
const isTextArg = (item) => isStringOrFieldNameObject(item) || isQueryObject(item);
const isNumArg = (item) => isNumOrFieldNameObject(item) || isQueryObject(item);
const isBoolArg = (item) => isBoolOrFieldNameObject(item) || isQueryObject(item);
const isQueryObjectArray = (arr) => arr instanceof Array && arr.every((v) => isQueryObject(v));
const isTextArgArray = (arr) => arr instanceof Array && arr.every((v) => isTextArg(v));
const isNumArgArray = (arr) => arr instanceof Array && arr.every((v) => isNumArg(v));
const isJoinArgs = (arg) => !!(isQueryObject(arg) && arg.val);
const isFieldNameObject = (val) => isQueryObject(val) && typeof val.$fieldName === 'string';
const isString = (arg) => typeof arg === 'string';
const isStringArray = (arg) => Array.isArray(arg) && arg.every((s) => typeof s === 'string');
const isStringOrFieldNameObject = (val) => isString(val) || isFieldNameObject(val);
const isNumOrFieldNameObject = (val) => typeof val === 'number' || isFieldNameObject(val);
const isBoolOrFieldNameObject = (val) => typeof val === 'boolean' || isFieldNameObject(val);
const isTextSearchArgs = (arg) => !!(isQueryObject(arg) &&
    checkProperty(arg, 'stringToFind', isTextArg) &&
    checkProperty(arg, 'whereToSearch', isTextArg) &&
    (checkProperty(arg, 'index') ? isNumArg(arg.index) : true));
const isTextReplaceArgs = (arg) => !!(isQueryObject(arg) &&
    checkProperty(arg, 'text', isTextArg) &&
    checkProperty(arg, 'startChar', isNumArg) &&
    checkProperty(arg, 'numChars', isNumArg) &&
    checkProperty(arg, 'replacement', isTextArg));
const isTextSubArgs = (arg) => !!(isQueryObject(arg) &&
    checkProperty(arg, 'text', isTextArg) &&
    checkProperty(arg, 'oldText', isTextArg) &&
    checkProperty(arg, 'newText', isTextArg) &&
    (checkProperty(arg, 'index') ? isNumArg(arg.index) : true));
const isTextMidArgs = (arg) => !!(isQueryObject(arg) &&
    checkProperty(arg, 'text', isTextArg) &&
    checkProperty(arg, 'whereToStart', isNumArg) &&
    checkProperty(arg, 'num', isNumArg));
const isTextDoubleArg = (arg) => !!(isQueryObject(arg) &&
    checkProperty(arg, 'text', isTextArg) &&
    checkProperty(arg, 'num', isNumArg));
const allIndexesValid = (arr) => arr.every((e) => e !== undefined && e !== null);
const isBaseField = (item) => (typeof item !== 'object' && typeof item !== 'function') || item === null;
const isIfArgs = (arg) => !!(isQueryObject(arg) &&
    checkProperty(arg, 'expression', isBoolArg) &&
    checkProperty(arg, 'ifTrue') &&
    checkProperty(arg, 'ifFalse'));
const isSwitchArgs = (arg) => !!(isQueryObject(arg) &&
    checkProperty(arg, 'expression', isBoolArg) &&
    checkProperty(arg, 'cases') &&
    arg.cases instanceof Array &&
    arg.cases.every((c) => isQueryObject(c) &&
        checkProperty(c, 'switchCase') &&
        checkProperty(c, 'val')) &&
    checkProperty(arg, 'defaultVal'));
const isRegexArgs = (arg) => !!(isQueryObject(arg) &&
    checkProperty(arg, 'text', isTextArg) &&
    checkProperty(arg, 'regex', isTextArg));
const isRegexReplaceArgs = (arg) => !!(isQueryObject(arg) &&
    checkProperty(arg, 'text', isTextArg) &&
    checkProperty(arg, 'regex', isTextArg) &&
    checkProperty(arg, 'replacement', isTextArg));
const isCeilFloorArg = (arg) => !!(isQueryObject(arg) && checkProperty(arg, 'val', isNumArg)) &&
    (checkProperty(arg, 'significance') ? isNumArg(arg.significance) : true);
const isModArg = (arg) => !!(isQueryObject(arg) &&
    checkProperty(arg, 'val', isNumArg) &&
    checkProperty(arg, 'divisor', isNumArg));
const isPowerArg = (arg) => !!(isQueryObject(arg) &&
    checkProperty(arg, 'base', isNumArg) &&
    checkProperty(arg, 'power', isNumArg));
const isRoundArg = (arg) => !!(isQueryObject(arg) &&
    checkProperty(arg, 'val', isNumArg) &&
    checkProperty(arg, 'precision', isNumArg));
const isLogArg = (arg) => !!(isQueryObject(arg) &&
    checkProperty(arg, 'num') &&
    checkProperty(arg, 'base')
    ? isNumArg(arg.base)
    : true);
const isFunc = (arg) => !!(arg && typeof arg === 'function' && typeof arg() === 'string');
const hasDateArg = (arg) => !!(isQueryObject(arg) && checkProperty(arg, 'date', isTextArg));
const hasDoubleDateArg = (arg) => !!(isQueryObject(arg) &&
    checkProperty(arg, 'date1', isTextArg) &&
    checkProperty(arg, 'date2', isTextArg));
const isDateAddArg = (arg) => !!(hasDateArg(arg) &&
    checkProperty(arg, 'count', isNumArg) &&
    checkProperty(arg, 'units', isString));
const isDateDiffArg = (arg) => !!(hasDoubleDateArg(arg) && checkProperty(arg, 'units', isString));
const isDateSameArg = (arg) => !!(hasDoubleDateArg(arg) && checkProperty(arg, 'units')
    ? isString(arg)
    : true);
const isDateFormatArg = (arg) => !!(hasDateArg(arg) && checkProperty(arg, 'format', isTextArg));
const isDateParseArg = (arg) => !!(hasDateArg(arg) &&
    (checkProperty(arg, 'format') ? isTextArg(arg.format) : true) &&
    checkProperty(arg, 'locale')
    ? isTextArg(arg.locale)
    : true);
const isDateWeekArg = (arg) => !!(hasDateArg(arg) && checkProperty(arg, 'start')
    ? isTextArg(arg.format)
    : true);
const isDateWorkDayArg = (arg) => !!(hasDateArg(arg) && checkProperty(arg, 'holidays')
    ? isTextArgArray(arg.format)
    : true);
const isDateWorkDayDiffArg = (arg) => !!(hasDateArg(arg) &&
    checkProperty(arg, 'numDays', isNumArg) &&
    checkProperty(arg, 'holidays')
    ? isTextArgArray(arg.format)
    : true);

;// CONCATENATED MODULE: ./src/logicalFunctions.ts


const arrayArgFuncs = {
    $and: (args) => `AND(${queryBuilder(args)})`,
    $or: (args) => `OR(${queryBuilder(args)})`,
    $xor: (args) => `XOR(${queryBuilder(args)})`,
};
const expressionFuncs = {
    $not: (expression) => `NOT(${queryBuilder(expression)})`,
    $isError: (expression) => `ISERROR(${queryBuilder(expression)})`,
};
const ifFunc = {
    $if: ({ expression, ifTrue, ifFalse }) => `IF(${queryBuilder(expression)}, ${queryBuilder(ifTrue)}, ${queryBuilder(ifFalse)})`,
};
const switchFunc = {
    $switch: ({ expression, cases, defaultVal }) => `SWITCH(${queryBuilder(expression)}, ${cases
        .slice(0)
        .map(({ switchCase, val }) => `${queryBuilder(switchCase)}, ${queryBuilder(val)}`)
        .join(', ')}, ${queryBuilder(defaultVal)})`,
};
const logicalFunctions = Object.assign(Object.assign(Object.assign(Object.assign({}, arrayArgFuncs), expressionFuncs), ifFunc), switchFunc);
const handleLogicalFunc = (key, val) => {
    if (key in arrayArgFuncs && isQueryObjectArray(val)) {
        return arrayArgFuncs[key](val);
    }
    else if (key in expressionFuncs && isQueryObject(val)) {
        return expressionFuncs[key](val);
    }
    else if (key in ifFunc && isIfArgs(val)) {
        return ifFunc[key](val);
    }
    else if (key in switchFunc && isSwitchArgs(val)) {
        return switchFunc[key](val);
    }
    throw handleError({ key, val });
};

;// CONCATENATED MODULE: ./src/buildExpression.ts

const operators = [
    { $eq: '=' },
    { $neq: '!=' },
    { $gt: '>' },
    { $gte: '>=' },
    { $lt: '<' },
    { $lte: '<=' },
    { $add: '+' },
    { $sub: '-' },
    { $multi: '*' },
    { $div: '/' },
];
const buildExpression = (obj, op) => {
    if (typeof obj !== 'object' || Array.isArray(obj))
        throw new Error('Missing or Invalid Comparison Object');
    if (typeof op !== 'string' &&
        !operators.map((o) => Object.values(o)[0]).includes(op))
        throw new Error('Missing or Invalid Comparison Operator');
    const keys = Object.keys(obj);
    const expressionMapper = (k, i) => {
        const val = queryBuilder(obj[k]);
        return `{${k}} ${op} ${val}${i < keys.length - 1 ? ', ' : ''}`;
    };
    const exp = `${keys.map(expressionMapper).join('')}`;
    return keys.length > 1 ? `AND(${exp})` : exp;
};

;// CONCATENATED MODULE: ./src/logicalOperators.ts

const logicalOperators = {
    $gt: (val) => {
        return buildExpression(val, '>');
    },
    $lt: (val) => {
        return buildExpression(val, '<');
    },
    $gte: (val) => {
        return buildExpression(val, '>=');
    },
    $lte: (val) => {
        return buildExpression(val, '<=');
    },
    $eq: (val) => {
        return buildExpression(val, '=');
    },
    $neq: (val) => {
        return buildExpression(val, '!=');
    },
};

;// CONCATENATED MODULE: ./src/textFunctions.ts


const textSearchFunctions = {
    $find: ({ stringToFind, whereToSearch, index }) => `FIND(${queryBuilder(stringToFind)}, ${queryBuilder(whereToSearch)}, ${index !== null && index !== void 0 ? index : 0})`,
    $search: ({ stringToFind, whereToSearch, index }) => `SEARCH(${queryBuilder(stringToFind)}, ${queryBuilder(whereToSearch)}, ${index !== null && index !== void 0 ? index : 0})`,
};
const textReplacementFunction = {
    $replace: ({ text, startChar, numChars, replacement }) => `REPLACE(${queryBuilder(text)}, ${queryBuilder(startChar)}, ${queryBuilder(numChars)}, ${queryBuilder(replacement)})`,
};
const textSubstituteFunction = {
    $substitute: ({ text, oldText, newText, index }) => `SUBSTITUTE(${queryBuilder(text)}, ${queryBuilder(oldText)}, ${queryBuilder(newText)}, ${index !== null && index !== void 0 ? index : 0})`,
};
const textConcatFunction = {
    $concatenate: (args) => `CONCATENATE(${args.map((a) => queryBuilder(a)).join(', ')})`,
};
const textDoubleArgumentFunctions = {
    $left: ({ text, num }) => `LEFT(${queryBuilder(text)}, ${queryBuilder(num)})`,
    $right: ({ text, num }) => `RIGHT(${queryBuilder(text)}, ${queryBuilder(num)})`,
    $rept: ({ text, num }) => `REPT(${queryBuilder(text)}, ${queryBuilder(num)})`,
};
const textMidFunction = {
    $mid: ({ text, whereToStart, num }) => `MID(${queryBuilder(text)}, ${queryBuilder(whereToStart)}, ${queryBuilder(num)})`,
};
const textSingleArgumentFunctions = {
    $encodeUrlComponent: (str) => `ENCODE_URL_COMPONENT(${queryBuilder(str)})`,
    $len: (str) => `LEN(${queryBuilder(str)})`,
    $lower: (str) => `LOWER(${queryBuilder(str)})`,
    $trim: (str) => `TRIM(${queryBuilder(str)})`,
    $upper: (str) => `UPPER(${queryBuilder(str)})`,
};
const textFunctions = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, textSearchFunctions), textConcatFunction), textMidFunction), textReplacementFunction), textSubstituteFunction), textDoubleArgumentFunctions), textSingleArgumentFunctions);
const handleTextFunc = (key, val) => {
    if (key in textSearchFunctions && isTextSearchArgs(val)) {
        return textSearchFunctions[key](val);
    }
    else if (key in textConcatFunction && isTextArgArray(val)) {
        return textConcatFunction[key](val);
    }
    else if (key in textMidFunction && isTextMidArgs(val)) {
        return textMidFunction[key](val);
    }
    else if (key in textReplacementFunction && isTextReplaceArgs(val)) {
        return textReplacementFunction[key](val);
    }
    else if (key in textSubstituteFunction && isTextSubArgs(val)) {
        return textSubstituteFunction[key](val);
    }
    else if (key in textDoubleArgumentFunctions && isTextDoubleArg(val)) {
        return textDoubleArgumentFunctions[key](val);
    }
    else if (key in textSingleArgumentFunctions &&
        (isStringOrFieldNameObject(val) || isQueryObject(val))) {
        return textSingleArgumentFunctions[key](val);
    }
    throw handleError({ key, val });
};

;// CONCATENATED MODULE: ./src/regexFunctions.ts

const regexFunctions = {
    $regexMatch: ({ text, regex }) => `REGEX_MATCH(${queryBuilder(text)}, ${queryBuilder(regex)})`,
    $regexExtract: ({ text, regex }) => `REGEX_EXTRACT(${queryBuilder(text)}, ${queryBuilder(regex)})`,
};
const regexReplaceFunction = {
    $regexReplace: ({ text, regex, replacement }) => `REGEX_REPLACE(${queryBuilder(text)}, ${queryBuilder(regex)}, ${queryBuilder(replacement)})`,
};

;// CONCATENATED MODULE: ./src/numericFunctions.ts



const singleArgNumFunctions = {
    $abs: (arg) => `ABS(${queryBuilder(arg)})`,
    $even: (arg) => `EVEN(${queryBuilder(arg)})`,
    $exp: (arg) => `EXP(${queryBuilder(arg)})`,
    $int: (arg) => `INT(${queryBuilder(arg)})`,
    $odd: (arg) => `ODD(${queryBuilder(arg)})`,
    $sqrt: (arg) => `SQRT(${queryBuilder(arg)})`,
};
const arrayArgNumFunctions = {
    $avg: (arg) => `AVERAGE(${arg.map((a) => queryBuilder(a)).join(', ')})`,
    $count: (arg) => `COUNT(${arg.map((a) => queryBuilder(a)).join(', ')})`,
    $counta: (arg) => `COUNTA(${arg.map((a) => queryBuilder(a)).join(', ')})`,
    $countAll: (arg) => `COUNTALL(${arg.map((a) => queryBuilder(a)).join(', ')})`,
    $max: (arg) => `MAX(${arg.map((a) => queryBuilder(a)).join(', ')})`,
    $min: (arg) => `MIN(${arg.map((a) => queryBuilder(a)).join(', ')})`,
    $sum: (arg) => `SUM(${arg.map((a) => queryBuilder(a)).join(', ')})`,
};
const ceilFloorNumFunctions = {
    $ceil: ({ val, significance }) => `CEILING(${queryBuilder(val)}, ${queryBuilder(significance !== null && significance !== void 0 ? significance : 1)})`,
    $floor: ({ val, significance }) => `FLOOR(${queryBuilder(val)}, ${queryBuilder(significance !== null && significance !== void 0 ? significance : 1)})`,
};
const logNumFunction = {
    $log: ({ num, base }) => `LOG(${queryBuilder(num)}, ${queryBuilder(base !== null && base !== void 0 ? base : 10)})`,
};
const modNumFunction = {
    $mod: ({ val, divisor }) => `MOD(${queryBuilder(val)}, ${queryBuilder(divisor)})`,
};
const powerNumFunction = {
    $pow: ({ base, power }) => `POWER(${queryBuilder(base)}, ${queryBuilder(power)})`,
};
const roundNumFunctions = {
    $round: ({ val, precision }) => `ROUND(${queryBuilder(val)}, ${queryBuilder(precision)})`,
    $roundDown: ({ val, precision }) => `ROUNDDOWN(${queryBuilder(val)}, ${queryBuilder(precision)})`,
    $roundUp: ({ val, precision }) => `ROUNDUP(${queryBuilder(val)}, ${queryBuilder(precision)})`,
};
const numericalFunctions = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, singleArgNumFunctions), arrayArgNumFunctions), ceilFloorNumFunctions), logNumFunction), modNumFunction), powerNumFunction), roundNumFunctions);
const numericOperators = {
    $add: (arg) => buildExpression(arg, '+'),
    $sub: (arg) => buildExpression(arg, '-'),
    $multi: (arg) => buildExpression(arg, '*'),
    $div: (arg) => buildExpression(arg, '/'),
};
const handleNumericalFunc = (key, val) => {
    if (key in arrayArgNumFunctions && isNumArgArray(val)) {
        return arrayArgNumFunctions[key](val);
    }
    else if (key in singleArgNumFunctions && isNumArg(val)) {
        return singleArgNumFunctions[key](val);
    }
    else if (key in ceilFloorNumFunctions && isCeilFloorArg(val)) {
        return ceilFloorNumFunctions[key](val);
    }
    else if (key in logNumFunction && isLogArg(val)) {
        return logNumFunction[key](val);
    }
    else if (key in modNumFunction && isModArg(val)) {
        return modNumFunction[key](val);
    }
    else if (key in powerNumFunction && isPowerArg(val)) {
        return powerNumFunction[key](val);
    }
    else if (key in roundNumFunctions && isRoundArg(val)) {
        return roundNumFunctions[key](val);
    }
    throw handleError({ key, val });
};

;// CONCATENATED MODULE: ./src/queryBuilder.ts








const operatorFunctions = Object.assign(Object.assign({}, logicalOperators), numericOperators);
const handleError = (arg) => new Error(`Invalid Query Object, ${JSON.stringify(arg)}`);
const queryBuilder = (arg) => {
    if (arg !== undefined) {
        if (isFunc(arg) && !isBaseField(arg) && !isQueryObject(arg)) {
            return arg();
        }
        if (isBaseField(arg)) {
            return baseHandler(arg);
        }
        if (arg instanceof Array) {
            const str = arg.map((a) => queryBuilder(a)).join(', ');
            return str.trim();
        }
        const keys = Object.keys(arg);
        const vals = Object.values(arg);
        if (keys.length > 1 &&
            allIndexesValid(vals) &&
            isQueryObjectArray(keys.map((k, i) => ({ [k]: vals[i] })))) {
            return logicalFunctions.$and(keys.map((k, i) => ({ [k]: vals[i] })));
        }
        const key = keys[0];
        if (arg[key] === undefined) {
            throw new Error('Invalid query');
        }
        const val = arg[key];
        if (val !== undefined) {
            if (key === '$fieldName' && isString(val)) {
                return `{${val}}`;
            }
            if (key === '$insert' && isString(val)) {
                return val;
            }
            if (key in logicalFunctions) {
                return handleLogicalFunc(key, val);
            }
            else if (key in textFunctions) {
                return handleTextFunc(key, val);
            }
            else if (key in numericalFunctions) {
                return handleNumericalFunc(key, val);
            }
            else if (key in regexFunctions && isRegexArgs(val)) {
                return regexFunctions[key](val);
            }
            else if (key in regexReplaceFunction && isRegexReplaceArgs(val)) {
                return regexFunctions[key](val);
            }
            else if (key in arrayFunctions) {
                if (isJoinArgs(val)) {
                    return arrayFunctions.$arrayJoin(val.val, val.separator);
                }
                else if (typeof val === 'string') {
                    return arrayFunctions[key](val);
                }
            }
            else if (isQueryObject(val)) {
                const valKeys = Object.keys(val);
                const subVals = Object.values(val);
                if (valKeys.length > 1 &&
                    allIndexesValid(subVals) &&
                    isQueryObjectArray(valKeys.map((k, i) => ({ [k]: subVals[i] }))) &&
                    subVals.every((v) => isQueryObject(v) || isBaseField(v))) {
                    if (valKeys.every((k) => k in logicalOperators)) {
                        return logicalFunctions.$and(valKeys.map((k, i) => ({
                            [key]: { [k]: subVals[i] },
                        })));
                    }
                    if (valKeys.every((k) => k in numericOperators)) {
                        return '';
                    }
                }
                const valKey = valKeys[0];
                const subVal = subVals[0];
                if (valKey in operatorFunctions &&
                    (isQueryObject(subVal) || isBaseField(subVal))) {
                    return operatorFunctions[valKey]({
                        [key]: subVal,
                    });
                }
            }
            else if (isQueryObject(val) || isBaseField(val)) {
                return operatorFunctions.$eq({ [key]: val });
            }
        }
    }
    throw handleError(arg);
};

;// CONCATENATED MODULE: ./src/buildOpts.ts

/* harmony default export */ const buildOpts = ((opts) => {
    if (Object.prototype.hasOwnProperty.call(opts, 'filterByFormula') &&
        Object.prototype.hasOwnProperty.call(opts, 'where'))
        throw new Error('Cannot use both where and filterByFormula as they accomplish the same thing');
    const params = Object.keys(opts)
        .map((key, i) => {
        /** @todo Find a better type than any for this */
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        const opt = opts[key];
        let formatted;
        if (Array.isArray(opt)) {
            formatted = opt
                .map((item, j) => {
                switch (typeof item) {
                    case 'object':
                        return Object.keys(item)
                            .map((subKey) => {
                            return `${encodeURIComponent(`${key}[${j}][${subKey}]`)}=${encodeURIComponent(item[subKey])}`;
                        })
                            .join('&');
                    case 'string':
                        return `${encodeURIComponent(key + '[]')}=${encodeURIComponent(item)}`;
                }
            })
                .join('&');
        }
        else {
            if (key === 'where') {
                formatted = `filterByFormula=${encodeURIComponent(queryBuilder(opt))}`;
            }
            else {
                formatted = `${key}=${encodeURIComponent(opt)}`;
            }
        }
        return i !== 0 ? `&${formatted}` : formatted;
    })
        .join('');
    return params;
});

;// CONCATENATED MODULE: ./src/checkArg.ts
/* harmony default export */ const checkArg = ((arg, name, type, required = true) => {
    if (arg === undefined && required)
        throw new Error(`Argument "${name}" is required.`);
    if (arg === undefined && !required)
        return;
    if (typeof arg !== type) {
        if (type === 'array' && Array.isArray(arg))
            return;
        throw new Error(`Incorrect data type on argument "${name}". Received "${typeof arg}": expected "${type}"`);
    }
});

;// CONCATENATED MODULE: ./src/checkError.ts
/* harmony default export */ const checkError = ((status) => status >= 300);

// EXTERNAL MODULE: ./node_modules/node-fetch/browser.js
var browser = __webpack_require__(300);
;// CONCATENATED MODULE: ./src/fetch.ts

/* harmony default export */ const fetch = (typeof window !== 'undefined'
    ? window.fetch.bind(window)
    : browser);

;// CONCATENATED MODULE: ./src/rateLimitHandler.ts
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};

const rateLimitHandler = (url, opts, retryTimeout, maxRetry, key) => __awaiter(void 0, void 0, void 0, function* () {
    return new Promise((resolve, reject) => {
        const retryRateLimit = (url, opts, retryTimeout, maxRetry, key) => {
            if (maxRetry && maxRetry < 1) {
                reject('Max timeout exceeded');
            }
            setTimeout(() => __awaiter(void 0, void 0, void 0, function* () {
                try {
                    const res = yield fetch(url, opts);
                    const data = yield res.json();
                    if (res.status === 429) {
                        retryRateLimit(url, opts, retryTimeout * 1.5, maxRetry - retryTimeout, key);
                    }
                    else {
                        resolve(data);
                    }
                }
                catch (err) {
                    reject(err);
                }
            }), retryTimeout);
        };
        retryRateLimit(url, opts, retryTimeout, maxRetry, key);
    });
});
/* harmony default export */ const src_rateLimitHandler = (rateLimitHandler);

;// CONCATENATED MODULE: ./src/http.ts
var http_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



const request = ({ endpoint, options, instance, pageHandler, }) => http_awaiter(void 0, void 0, void 0, function* () {
    try {
        const res = yield fetch(endpoint, options);
        const body = yield res.json();
        if (checkError(res.status)) {
            if (res.status !== 429) {
                throw new Error(JSON.stringify(body));
            }
            if (instance.retryOnRateLimit) {
                if (!pageHandler || pageHandler.index + 1 === pageHandler.page) {
                    const limit = yield src_rateLimitHandler(endpoint, options !== null && options !== void 0 ? options : {}, instance.retryTimeout, instance.maxRetry);
                    return limit;
                }
            }
        }
        return body;
    }
    catch (err) {
        throw new Error(err);
    }
});

;// CONCATENATED MODULE: ./src/asyncAirtable.ts
var asyncAirtable_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



const validOptions = [
    'fields',
    'filterByFormula',
    'maxRecords',
    'pageSize',
    'sort',
    'view',
    'where',
];
/**
 * The main AsyncAirtable class.
 */
class AsyncAirtable {
    /**
     * Creates a new instance of the AsyncAirtable library.
     * @param apiKey The API Key from AirTable
     * @param base The base id from AirTable
     * @param config The config to use for this instance of AsyncAirtable
     */
    constructor(apiKey, base, config) {
        /**
         * Select record(s) from the specified table.
         * @param table Table name
         * @param options Options object, used to filter records
         * @param page Used to get a specific page of records
         * @returns
         * @async
         */
        this.select = (table, options, page) => asyncAirtable_awaiter(this, void 0, void 0, function* () {
            try {
                checkArg(table, 'table', 'string');
                checkArg(options, 'options', 'object', false);
                checkArg(page, 'page', 'number', false);
                const url = `${this.baseURL}/${this.base}/${table}`;
                const opts = options ? Object.assign({}, options) : {};
                Object.keys(opts).forEach((option) => {
                    if (!validOptions.includes(option)) {
                        throw new Error(`Invalid option: ${option}`);
                    }
                });
                let offset = '';
                let data = [];
                if (page) {
                    for (let i = 0; i < page; i++) {
                        if (offset) {
                            opts.offset = offset;
                        }
                        try {
                            const body = yield request({
                                endpoint: `${url}?${buildOpts(opts)}`,
                                options: { headers: { Authorization: `Bearer ${this.apiKey}` } },
                                instance: this,
                                pageHandler: {
                                    index: i,
                                    page: page,
                                },
                            });
                            if (i + 1 === page) {
                                return body.records;
                            }
                            offset = body.offset;
                        }
                        catch (err) {
                            throw new Error(err);
                        }
                    }
                }
                else {
                    let done = false;
                    while (!done) {
                        if (offset) {
                            opts.offset = offset;
                        }
                        try {
                            const body = yield request({
                                endpoint: `${url}?${buildOpts(opts)}`,
                                options: {
                                    headers: { Authorization: `Bearer ${this.apiKey}` },
                                },
                                instance: this,
                            });
                            data = data.concat(body.records);
                            offset = body.offset;
                            if (!body.offset) {
                                done = true;
                            }
                        }
                        catch (err) {
                            throw new Error(err);
                        }
                    }
                }
                return data;
            }
            catch (err) {
                throw new Error(err);
            }
        });
        /**
         * Finds a record on the specified table.
         * @param table Table name
         * @param id Airtable record ID
         * @returns
         * @async
         */
        this.find = (table, id) => asyncAirtable_awaiter(this, void 0, void 0, function* () {
            try {
                checkArg(table, 'table', 'string');
                checkArg(id, 'id', 'string');
                const url = `${this.baseURL}/${this.base}/${table}/${id}`;
                const data = yield request({
                    endpoint: url,
                    options: {
                        headers: { Authorization: `Bearer ${this.apiKey}` },
                    },
                    instance: this,
                });
                return data;
            }
            catch (err) {
                throw new Error(err);
            }
        });
        /**
         * Creates a new record on the specified table.
         * @param table - Table name
         * @param record - Record object, used to structure data for insert
         * @param typecast - Used for allowing the ability to add new selections for Select and Multiselect fields.
         * @returns
         * @async
         */
        this.createRecord = (table, record, typecast) => asyncAirtable_awaiter(this, void 0, void 0, function* () {
            try {
                checkArg(table, 'table', 'string');
                checkArg(record, 'record', 'object');
                checkArg(typecast, 'typecast', 'boolean', false);
                const url = `${this.baseURL}/${this.base}/${table}`;
                const body = { fields: record };
                if (typecast !== undefined) {
                    body.typecast = typecast;
                }
                const data = yield request({
                    endpoint: url,
                    instance: this,
                    options: {
                        method: 'post',
                        body: JSON.stringify(body),
                        headers: {
                            Authorization: `Bearer ${this.apiKey}`,
                            'Content-Type': 'application/json',
                        },
                    },
                });
                return data;
            }
            catch (err) {
                throw new Error(err);
            }
        });
        /**
         * Updates a record on the specified table.
         * @param table - Table name
         * @param record - Record object, used to update data within a specific record
         * @param opts - An object with options for your update statement
         * @returns
         * @async
         */
        this.updateRecord = (table, record, opts) => asyncAirtable_awaiter(this, void 0, void 0, function* () {
            try {
                checkArg(table, 'table', 'string');
                checkArg(record, 'record', 'object');
                if (opts) {
                    checkArg(opts.destructive, 'opts.desctructive', 'boolean');
                    checkArg(opts.typecast, 'opts.typecast', 'boolean', false);
                }
                const url = `${this.baseURL}/${this.base}/${table}/${record.id}`;
                const body = { fields: record.fields };
                if ((opts === null || opts === void 0 ? void 0 : opts.typecast) !== undefined) {
                    body.typecast = opts === null || opts === void 0 ? void 0 : opts.typecast;
                }
                const data = yield request({
                    endpoint: url,
                    instance: this,
                    options: {
                        method: (opts === null || opts === void 0 ? void 0 : opts.destructive) ? 'put' : 'patch',
                        body: JSON.stringify(body),
                        headers: {
                            Authorization: `Bearer ${this.apiKey}`,
                            'Content-Type': 'application/json',
                        },
                    },
                });
                return data;
            }
            catch (err) {
                throw new Error(err);
            }
        });
        /**
         * Deletes a record from the specified table.
         * @param table - Table name
         * @param id - Airtable record ID
         * @returns
         * @async
         */
        this.deleteRecord = (table, id) => asyncAirtable_awaiter(this, void 0, void 0, function* () {
            try {
                checkArg(table, 'table', 'string');
                checkArg(id, 'id', 'string');
                const url = `${this.baseURL}/${this.base}/${table}/${id}`;
                const data = yield request({
                    endpoint: url,
                    instance: this,
                    options: {
                        method: 'delete',
                        headers: {
                            Authorization: `Bearer ${this.apiKey}`,
                        },
                    },
                });
                return data;
            }
            catch (err) {
                throw new Error(err);
            }
        });
        /**
         * Creates multiple new records on the specified table.
         * @param table - Table name
         * @param records - An array of Record objects
         * @param typecast - Used for allowing the ability to add new selections for Select and Multiselect fields.
         * @returns
         * @async
         */
        this.bulkCreate = (table, records, typecast) => asyncAirtable_awaiter(this, void 0, void 0, function* () {
            try {
                checkArg(table, 'table', 'string');
                checkArg(records, 'records', 'array');
                checkArg(typecast, 'typecast', 'boolean', false);
                const url = `${this.baseURL}/${this.base}/${table}`;
                const body = {
                    records: records.map((record) => ({
                        fields: record,
                    })),
                };
                if (typecast !== undefined) {
                    body.typecast = typecast;
                }
                const data = yield request({
                    endpoint: url,
                    options: {
                        method: 'post',
                        body: JSON.stringify(body),
                        headers: {
                            Authorization: `Bearer ${this.apiKey}`,
                            'Content-Type': 'application/json',
                        },
                    },
                    instance: this,
                });
                return data.records;
            }
            catch (err) {
                throw new Error(err);
            }
        });
        /**
         * Updates multiple records on the specified table
         * @param table - Table name
         * @param records - An array of Record objects
         * @param opts - An object with options for your update statement
         * @returns
         * @async
         */
        this.bulkUpdate = (table, records, opts) => asyncAirtable_awaiter(this, void 0, void 0, function* () {
            try {
                checkArg(table, 'table', 'string');
                checkArg(records, 'records', 'array');
                if (opts) {
                    checkArg(opts.destructive, 'opts.desctructive', 'boolean', false);
                    checkArg(opts.typecast, 'opts.typecast', 'boolean', false);
                }
                const url = `${this.baseURL}/${this.base}/${table}`;
                const body = { records };
                if ((opts === null || opts === void 0 ? void 0 : opts.typecast) !== undefined) {
                    body.typecast = opts === null || opts === void 0 ? void 0 : opts.typecast;
                }
                const data = yield request({
                    endpoint: url,
                    options: {
                        method: (opts === null || opts === void 0 ? void 0 : opts.destructive) ? 'put' : 'patch',
                        body: JSON.stringify(body),
                        headers: {
                            Authorization: `Bearer ${this.apiKey}`,
                            'Content-Type': 'application/json',
                        },
                    },
                    instance: this,
                });
                return data.records;
            }
            catch (err) {
                throw new Error(err);
            }
        });
        /**
         * Deletes multiple records from the specified table
         * @param table - Table name
         * @param ids - Array of Airtable record IDs
         * @returns
         * @async
         */
        this.bulkDelete = (table, ids) => asyncAirtable_awaiter(this, void 0, void 0, function* () {
            try {
                checkArg(table, 'table', 'string');
                checkArg(ids, 'ids', 'array');
                let query = '';
                ids.forEach((id, i) => {
                    if (i !== 0) {
                        query = `${query}&records[]=${id}`;
                    }
                    else {
                        query = `records[]=${id}`;
                    }
                });
                const url = `${this.baseURL}/${this.base}/${table}?${encodeURI(query)}`;
                const data = yield request({
                    endpoint: url,
                    options: {
                        method: 'delete',
                        headers: {
                            Authorization: `Bearer ${this.apiKey}`,
                        },
                    },
                    instance: this,
                });
                return data.records;
            }
            catch (err) {
                throw new Error(err);
            }
        });
        /**
         * Checks if a record exists, and if it does updates it, if not creates a new record.
         * @param table - Table name
         * @param filterString - The filter formula string used to check for a record
         * @param record - Record object used to either update or create a record
         * @param opts - An object with options for your update statement
         * @returns
         * @async
         */
        this.upsertRecord = (table, filterString, record, opts) => asyncAirtable_awaiter(this, void 0, void 0, function* () {
            checkArg(table, 'table', 'string');
            checkArg(filterString, 'filterString', 'string');
            checkArg(record, 'record', 'object');
            if (opts) {
                checkArg(opts.destructive, 'opts.desctructive', 'boolean', false);
                checkArg(opts.typecast, 'opts.typecast', 'boolean', false);
            }
            const exists = yield this.select(table, { filterByFormula: filterString });
            if (!exists[0]) {
                return yield this.createRecord(table, record, opts === null || opts === void 0 ? void 0 : opts.typecast);
            }
            else {
                return yield this.updateRecord(table, {
                    id: exists[0].id,
                    fields: record,
                }, opts);
            }
        });
        if (!apiKey)
            throw new Error('API Key is required.');
        if (!base)
            throw new Error('Base ID is required.');
        this.apiKey = apiKey;
        this.base = base;
        this.retryOnRateLimit = (config === null || config === void 0 ? void 0 : config.retryOnRateLimit) || true;
        this.retryTimeout = (config === null || config === void 0 ? void 0 : config.retryTimeout) || 5000;
        this.maxRetry = (config === null || config === void 0 ? void 0 : config.maxRetry) || 60000;
        this.baseURL = (config === null || config === void 0 ? void 0 : config.baseURL) || 'https://api.airtable.com/v0';
    }
}
if (typeof window !== 'undefined') {
    window.AsyncAirtable = AsyncAirtable;
}
const CREATED_TIME = () => 'CREATED_TIME()';
const NOW = () => 'NOW()';
const TODAY = () => 'TODAY()';
const ERROR = () => 'ERROR()';
const LAST_MODIFIED_TIME = () => 'LAST_MODIFIED_TIME()';
const RECORD_ID = () => 'RECORD_ID()';

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXN5bmNBaXJ0YWJsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyxzQ0FBc0M7QUFDdEMsc0NBQXNDO0FBQ3RDO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLENBQUMsa0JBQWU7QUFDaEI7O0FBRUEsZUFBZTtBQUNmLGVBQWU7QUFDZixnQkFBZ0I7Ozs7OztVQ3hCaEI7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTs7VUFFQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTs7Ozs7Ozs7OztBQ3RCOEM7QUFHdkMsTUFBTSxjQUFjLEdBQW1CO0lBQzVDLGFBQWEsRUFBRSxDQUFDLEdBQWUsRUFBVSxFQUFFO1FBQ3pDLE9BQU8sZ0JBQWdCLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBQzlDLENBQUM7SUFDRCxhQUFhLEVBQUUsQ0FBQyxHQUFlLEVBQVUsRUFBRTtRQUN6QyxPQUFPLGdCQUFnQixZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztJQUM5QyxDQUFDO0lBQ0QsWUFBWSxFQUFFLENBQUMsR0FBZSxFQUFVLEVBQUU7UUFDeEMsT0FBTyxlQUFlLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBQzdDLENBQUM7SUFDRCxVQUFVLEVBQUUsQ0FBQyxHQUFlLEVBQUUsU0FBUyxHQUFHLEdBQUcsRUFBVSxFQUFFO1FBQ3ZELE9BQU8sYUFBYSxZQUFZLENBQUMsR0FBRyxDQUFDLEtBQUssWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUM7SUFDdkUsQ0FBQztDQUNGLENBQUM7OztBQ2RLLE1BQU0sY0FBYyxHQUFHLENBQUMsSUFBYSxFQUFVLEVBQUU7SUFDdEQsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0FBQ3JDLENBQUMsQ0FBQztBQUVLLE1BQU0sV0FBVyxHQUFHLENBQUMsR0FBa0IsRUFBVSxFQUFFO0lBQ3hELElBQUksR0FBRyxLQUFLLElBQUksRUFBRTtRQUNoQixPQUFPLFNBQVMsQ0FBQztLQUNsQjtJQUNELFFBQVEsT0FBTyxHQUFHLEVBQUU7UUFDbEIsS0FBSyxRQUFRO1lBQ1gsT0FBTyxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLEtBQUssUUFBUTtZQUNYLE9BQU8sSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNwQixLQUFLLFNBQVM7WUFDWixPQUFPLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUM5QjtBQUNILENBQUMsQ0FBQzs7O0FDa0JGLE1BQU0sYUFBYSxHQUFHLENBQ3BCLEdBQWdCLEVBQ2hCLElBQVksRUFDWixTQUFvRCxFQUNwRCxFQUFFLENBQ0YsTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUM7SUFDL0MsQ0FBQyxTQUFTLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBRW5ELE1BQU0sYUFBYSxHQUFHLENBQUMsSUFBZ0IsRUFBdUIsRUFBRTtJQUNyRSxJQUFJLElBQUksS0FBSyxTQUFTO1FBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lBQ2hFLE9BQU8sSUFBSSxLQUFLLElBQUksSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzNFLENBQUMsQ0FBQztBQUVLLE1BQU0sU0FBUyxHQUFHLENBQUMsSUFBZ0IsRUFBbUIsRUFBRSxDQUM3RCx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7QUFFbEQsTUFBTSxRQUFRLEdBQUcsQ0FBQyxJQUFnQixFQUFrQixFQUFFLENBQzNELHNCQUFzQixDQUFDLElBQUksQ0FBQyxJQUFJLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUUvQyxNQUFNLFNBQVMsR0FBRyxDQUFDLElBQWdCLEVBQW1CLEVBQUUsQ0FDN0QsdUJBQXVCLENBQUMsSUFBSSxDQUFDLElBQUksYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBRWhELE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxHQUFlLEVBQXdCLEVBQUUsQ0FDMUUsR0FBRyxZQUFZLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBYSxFQUFFLEVBQUUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUVsRSxNQUFNLGNBQWMsR0FBRyxDQUFDLEdBQWUsRUFBb0IsRUFBRSxDQUNsRSxHQUFHLFlBQVksS0FBSyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFhLEVBQUUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBRTlELE1BQU0sYUFBYSxHQUFHLENBQUMsR0FBZSxFQUFtQixFQUFFLENBQ2hFLEdBQUcsWUFBWSxLQUFLLElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQWEsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFFN0QsTUFBTSxVQUFVLEdBQUcsQ0FBQyxHQUFlLEVBQW1CLEVBQUUsQ0FDN0QsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUU3QixNQUFNLGlCQUFpQixHQUFHLENBQUMsR0FBZSxFQUEwQixFQUFFLENBQzNFLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxPQUFPLEdBQUcsQ0FBQyxVQUFVLEtBQUssUUFBUSxDQUFDO0FBRXBELE1BQU0sUUFBUSxHQUFHLENBQUMsR0FBZSxFQUFpQixFQUFFLENBQ3pELE9BQU8sR0FBRyxLQUFLLFFBQVEsQ0FBQztBQUVuQixNQUFNLGFBQWEsR0FBRyxDQUFDLEdBQWUsRUFBbUIsRUFBRSxDQUNoRSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxLQUFLLFFBQVEsQ0FBQyxDQUFDO0FBRXpELE1BQU0seUJBQXlCLEdBQUcsQ0FDdkMsR0FBZSxFQUNrQixFQUFFLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBRXZFLE1BQU0sc0JBQXNCLEdBQUcsQ0FDcEMsR0FBZSxFQUNrQixFQUFFLENBQ25DLE9BQU8sR0FBRyxLQUFLLFFBQVEsSUFBSSxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUU3QyxNQUFNLHVCQUF1QixHQUFHLENBQ3JDLEdBQWUsRUFDa0IsRUFBRSxDQUNuQyxPQUFPLEdBQUcsS0FBSyxTQUFTLElBQUksaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7QUFFOUMsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLEdBQWUsRUFBeUIsRUFBRSxDQUN6RSxDQUFDLENBQUMsQ0FDQSxhQUFhLENBQUMsR0FBRyxDQUFDO0lBQ2xCLGFBQWEsQ0FBQyxHQUFHLEVBQUUsY0FBYyxFQUFFLFNBQVMsQ0FBQztJQUM3QyxhQUFhLENBQUMsR0FBRyxFQUFFLGVBQWUsRUFBRSxTQUFTLENBQUM7SUFDOUMsQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FDM0QsQ0FBQztBQUVHLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxHQUFlLEVBQTBCLEVBQUUsQ0FDM0UsQ0FBQyxDQUFDLENBQ0EsYUFBYSxDQUFDLEdBQUcsQ0FBQztJQUNsQixhQUFhLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxTQUFTLENBQUM7SUFDckMsYUFBYSxDQUFDLEdBQUcsRUFBRSxXQUFXLEVBQUUsUUFBUSxDQUFDO0lBQ3pDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsVUFBVSxFQUFFLFFBQVEsQ0FBQztJQUN4QyxhQUFhLENBQUMsR0FBRyxFQUFFLGFBQWEsRUFBRSxTQUFTLENBQUMsQ0FDN0MsQ0FBQztBQUVHLE1BQU0sYUFBYSxHQUFHLENBQUMsR0FBZSxFQUFzQixFQUFFLENBQ25FLENBQUMsQ0FBQyxDQUNBLGFBQWEsQ0FBQyxHQUFHLENBQUM7SUFDbEIsYUFBYSxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsU0FBUyxDQUFDO0lBQ3JDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQztJQUN4QyxhQUFhLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxTQUFTLENBQUM7SUFDeEMsQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FDM0QsQ0FBQztBQUNHLE1BQU0sYUFBYSxHQUFHLENBQUMsR0FBZSxFQUFzQixFQUFFLENBQ25FLENBQUMsQ0FBQyxDQUNBLGFBQWEsQ0FBQyxHQUFHLENBQUM7SUFDbEIsYUFBYSxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsU0FBUyxDQUFDO0lBQ3JDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsY0FBYyxFQUFFLFFBQVEsQ0FBQztJQUM1QyxhQUFhLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FDcEMsQ0FBQztBQUNHLE1BQU0sZUFBZSxHQUFHLENBQUMsR0FBZSxFQUF3QixFQUFFLENBQ3ZFLENBQUMsQ0FBQyxDQUNBLGFBQWEsQ0FBQyxHQUFHLENBQUM7SUFDbEIsYUFBYSxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsU0FBUyxDQUFDO0lBQ3JDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUNwQyxDQUFDO0FBRUcsTUFBTSxlQUFlLEdBQUcsQ0FBQyxHQUFtQixFQUF1QixFQUFFLENBQzFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxTQUFTLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDO0FBRTNDLE1BQU0sV0FBVyxHQUFHLENBQUMsSUFBZ0IsRUFBeUIsRUFBRSxDQUNyRSxDQUFDLE9BQU8sSUFBSSxLQUFLLFFBQVEsSUFBSSxPQUFPLElBQUksS0FBSyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssSUFBSSxDQUFDO0FBRXJFLE1BQU0sUUFBUSxHQUFHLENBQUMsR0FBZSxFQUFpQixFQUFFLENBQ3pELENBQUMsQ0FBQyxDQUNBLGFBQWEsQ0FBQyxHQUFHLENBQUM7SUFDbEIsYUFBYSxDQUFDLEdBQUcsRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDO0lBQzNDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDO0lBQzVCLGFBQWEsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQzlCLENBQUM7QUFFRyxNQUFNLFlBQVksR0FBRyxDQUFDLEdBQWUsRUFBcUIsRUFBRSxDQUNqRSxDQUFDLENBQUMsQ0FDQSxhQUFhLENBQUMsR0FBRyxDQUFDO0lBQ2xCLGFBQWEsQ0FBQyxHQUFHLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQztJQUMzQyxhQUFhLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQztJQUMzQixHQUFHLENBQUMsS0FBSyxZQUFZLEtBQUs7SUFDMUIsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQ2IsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUNKLGFBQWEsQ0FBQyxDQUFDLENBQUM7UUFDaEIsYUFBYSxDQUFDLENBQUMsRUFBRSxZQUFZLENBQUM7UUFDOUIsYUFBYSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FDMUI7SUFDRCxhQUFhLENBQUMsR0FBRyxFQUFFLFlBQVksQ0FBQyxDQUNqQyxDQUFDO0FBRUcsTUFBTSxXQUFXLEdBQUcsQ0FBQyxHQUFlLEVBQW9CLEVBQUUsQ0FDL0QsQ0FBQyxDQUFDLENBQ0EsYUFBYSxDQUFDLEdBQUcsQ0FBQztJQUNsQixhQUFhLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxTQUFTLENBQUM7SUFDckMsYUFBYSxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQ3ZDLENBQUM7QUFFRyxNQUFNLGtCQUFrQixHQUFHLENBQUMsR0FBZSxFQUEyQixFQUFFLENBQzdFLENBQUMsQ0FBQyxDQUNBLGFBQWEsQ0FBQyxHQUFHLENBQUM7SUFDbEIsYUFBYSxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsU0FBUyxDQUFDO0lBQ3JDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsQ0FBQztJQUN0QyxhQUFhLENBQUMsR0FBRyxFQUFFLGFBQWEsRUFBRSxTQUFTLENBQUMsQ0FDN0MsQ0FBQztBQUVHLE1BQU0sY0FBYyxHQUFHLENBQUMsR0FBZSxFQUF1QixFQUFFLENBQ3JFLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxhQUFhLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQztJQUM3RCxDQUFDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBRXBFLE1BQU0sUUFBUSxHQUFHLENBQUMsR0FBZSxFQUFpQixFQUFFLENBQ3pELENBQUMsQ0FBQyxDQUNBLGFBQWEsQ0FBQyxHQUFHLENBQUM7SUFDbEIsYUFBYSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDO0lBQ25DLGFBQWEsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUN4QyxDQUFDO0FBRUcsTUFBTSxVQUFVLEdBQUcsQ0FBQyxHQUFlLEVBQW1CLEVBQUUsQ0FDN0QsQ0FBQyxDQUFDLENBQ0EsYUFBYSxDQUFDLEdBQUcsQ0FBQztJQUNsQixhQUFhLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUM7SUFDcEMsYUFBYSxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQ3RDLENBQUM7QUFFRyxNQUFNLFVBQVUsR0FBRyxDQUFDLEdBQWUsRUFBbUIsRUFBRSxDQUM3RCxDQUFDLENBQUMsQ0FDQSxhQUFhLENBQUMsR0FBRyxDQUFDO0lBQ2xCLGFBQWEsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQztJQUNuQyxhQUFhLENBQUMsR0FBRyxFQUFFLFdBQVcsRUFBRSxRQUFRLENBQUMsQ0FDMUMsQ0FBQztBQUVHLE1BQU0sUUFBUSxHQUFHLENBQUMsR0FBZSxFQUFpQixFQUFFLENBQ3pELENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUM7SUFDckIsYUFBYSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUM7SUFDekIsYUFBYSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUM7SUFDeEIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO0lBQ3BCLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUVMLE1BQU0sTUFBTSxHQUFHLENBQUMsR0FBZ0MsRUFBdUIsRUFBRSxDQUM5RSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksT0FBTyxHQUFHLEtBQUssVUFBVSxJQUFJLE9BQU8sR0FBRyxFQUFFLEtBQUssUUFBUSxDQUFDLENBQUM7QUFFN0QsTUFBTSxVQUFVLEdBQUcsQ0FBQyxHQUFlLEVBQXNCLEVBQUUsQ0FDaEUsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLGFBQWEsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7QUFFM0QsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLEdBQWUsRUFBd0IsRUFBRSxDQUN4RSxDQUFDLENBQUMsQ0FDQSxhQUFhLENBQUMsR0FBRyxDQUFDO0lBQ2xCLGFBQWEsQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsQ0FBQztJQUN0QyxhQUFhLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FDdkMsQ0FBQztBQUVHLE1BQU0sWUFBWSxHQUFHLENBQUMsR0FBZSxFQUFpQixFQUFFLENBQzdELENBQUMsQ0FBQyxDQUNBLFVBQVUsQ0FBQyxHQUFHLENBQUM7SUFDZixhQUFhLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUM7SUFDckMsYUFBYSxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQ3RDLENBQUM7QUFFRyxNQUFNLGFBQWEsR0FBRyxDQUFDLEdBQWUsRUFBa0IsRUFBRSxDQUMvRCxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxhQUFhLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBRTlELE1BQU0sYUFBYSxHQUFHLENBQUMsR0FBZSxFQUFrQixFQUFFLENBQy9ELENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxJQUFJLGFBQWEsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDO0lBQ3JELENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDO0lBQ2YsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBRUwsTUFBTSxlQUFlLEdBQUcsQ0FBQyxHQUFlLEVBQW9CLEVBQUUsQ0FDbkUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLGFBQWEsQ0FBQyxHQUFHLEVBQUUsUUFBUSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7QUFFMUQsTUFBTSxjQUFjLEdBQUcsQ0FBQyxHQUFlLEVBQW1CLEVBQUUsQ0FDakUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQztJQUNsQixDQUFDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUM3RCxhQUFhLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQztJQUMxQixDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7SUFDdkIsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBRUwsTUFBTSxhQUFhLEdBQUcsQ0FBQyxHQUFlLEVBQWtCLEVBQUUsQ0FDL0QsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLGFBQWEsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDO0lBQy9DLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztJQUN2QixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7QUFFTCxNQUFNLGdCQUFnQixHQUFHLENBQUMsR0FBZSxFQUFxQixFQUFFLENBQ3JFLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxhQUFhLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQztJQUNsRCxDQUFDLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7SUFDNUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBRUwsTUFBTSxvQkFBb0IsR0FBRyxDQUFDLEdBQWUsRUFBeUIsRUFBRSxDQUM3RSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDO0lBQ2xCLGFBQWEsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLFFBQVEsQ0FBQztJQUN2QyxhQUFhLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQztJQUM1QixDQUFDLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7SUFDNUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDOzs7QUM3UCtDO0FBTW5DO0FBRWpCLE1BQU0sYUFBYSxHQUF5QjtJQUNqRCxJQUFJLEVBQUUsQ0FBQyxJQUFrQixFQUFVLEVBQUUsQ0FBQyxPQUFPLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRztJQUNsRSxHQUFHLEVBQUUsQ0FBQyxJQUFrQixFQUFVLEVBQUUsQ0FBQyxNQUFNLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRztJQUNoRSxJQUFJLEVBQUUsQ0FBQyxJQUFrQixFQUFVLEVBQUUsQ0FBQyxPQUFPLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRztDQUNuRSxDQUFDO0FBRUssTUFBTSxlQUFlLEdBQW9CO0lBQzlDLElBQUksRUFBRSxDQUFDLFVBQXNCLEVBQVUsRUFBRSxDQUFDLE9BQU8sWUFBWSxDQUFDLFVBQVUsQ0FBQyxHQUFHO0lBQzVFLFFBQVEsRUFBRSxDQUFDLFVBQXNCLEVBQVUsRUFBRSxDQUMzQyxXQUFXLFlBQVksQ0FBQyxVQUFVLENBQUMsR0FBRztDQUN6QyxDQUFDO0FBRUssTUFBTSxNQUFNLEdBQWU7SUFDaEMsR0FBRyxFQUFFLENBQUMsRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBVSxFQUFVLEVBQUUsQ0FDdkQsTUFBTSxZQUFZLENBQUMsVUFBVSxDQUFDLEtBQUssWUFBWSxDQUFDLE1BQU0sQ0FBQyxLQUFLLFlBQVksQ0FDdEUsT0FBTyxDQUNSLEdBQUc7Q0FDUCxDQUFDO0FBRUssTUFBTSxVQUFVLEdBQW1CO0lBQ3hDLE9BQU8sRUFBRSxDQUFDLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsRUFBVSxFQUFFLENBQ3JELFVBQVUsWUFBWSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEtBQUs7U0FDekMsS0FBSyxDQUFDLENBQUMsQ0FBQztTQUNSLEdBQUcsQ0FDRixDQUFDLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsQ0FDdEIsR0FBRyxZQUFZLENBQUMsVUFBVSxDQUFDLEtBQUssWUFBWSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQ3REO1NBQ0EsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLFlBQVksQ0FBQyxVQUFVLENBQUMsR0FBRztDQUNoRCxDQUFDO0FBRUssTUFBTSxnQkFBZ0IsK0RBQ3hCLGFBQWEsR0FDYixlQUFlLEdBQ2YsTUFBTSxHQUNOLFVBQVUsQ0FDZCxDQUFDO0FBRUssTUFBTSxpQkFBaUIsR0FBRyxDQUFDLEdBQVcsRUFBRSxHQUFlLEVBQVUsRUFBRTtJQUN4RSxJQUFJLEdBQUcsSUFBSSxhQUFhLElBQUksa0JBQWtCLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDbkQsT0FBTyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDaEM7U0FBTSxJQUFJLEdBQUcsSUFBSSxlQUFlLElBQUksYUFBYSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ3ZELE9BQU8sZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ2xDO1NBQU0sSUFBSSxHQUFHLElBQUksTUFBTSxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUN6QyxPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUN6QjtTQUFNLElBQUksR0FBRyxJQUFJLFVBQVUsSUFBSSxZQUFZLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDakQsT0FBTyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDN0I7SUFDRCxNQUFNLFdBQVcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQ2xDLENBQUMsQ0FBQzs7O0FDL0Q0QztBQUV2QyxNQUFNLFNBQVMsR0FBRztJQUN2QixFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7SUFDWixFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7SUFDZCxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7SUFDWixFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7SUFDZCxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7SUFDWixFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7SUFDZCxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUU7SUFDYixFQUFFLElBQUksRUFBRSxHQUFHLEVBQUU7SUFDYixFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUU7SUFDZixFQUFFLElBQUksRUFBRSxHQUFHLEVBQUU7Q0FDZCxDQUFDO0FBRUssTUFBTSxlQUFlLEdBQUcsQ0FBQyxHQUFxQixFQUFFLEVBQVUsRUFBVSxFQUFFO0lBQzNFLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDO1FBQy9DLE1BQU0sSUFBSSxLQUFLLENBQUMsc0NBQXNDLENBQUMsQ0FBQztJQUMxRCxJQUNFLE9BQU8sRUFBRSxLQUFLLFFBQVE7UUFDdEIsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztRQUV2RCxNQUFNLElBQUksS0FBSyxDQUFDLHdDQUF3QyxDQUFDLENBQUM7SUFDNUQsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM5QixNQUFNLGdCQUFnQixHQUFHLENBQUMsQ0FBUyxFQUFFLENBQVMsRUFBRSxFQUFFO1FBQ2hELE1BQU0sR0FBRyxHQUFHLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqQyxPQUFPLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxHQUFHLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDO0lBQ2pFLENBQUMsQ0FBQztJQUNGLE1BQU0sR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3JELE9BQU8sSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztBQUMvQyxDQUFDLENBQUM7OztBQzlCa0Q7QUFFN0MsTUFBTSxnQkFBZ0IsR0FBcUI7SUFDaEQsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7UUFDWCxPQUFPLGVBQWUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUNELEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ1gsT0FBTyxlQUFlLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFDRCxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUNaLE9BQU8sZUFBZSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBQ0QsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7UUFDWixPQUFPLGVBQWUsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUNELEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ1gsT0FBTyxlQUFlLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFDRCxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUNaLE9BQU8sZUFBZSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNwQyxDQUFDO0NBQ0YsQ0FBQzs7O0FDWnlEO0FBVW5DO0FBRWpCLE1BQU0sbUJBQW1CLEdBQXdCO0lBQ3RELEtBQUssRUFBRSxDQUFDLEVBQUUsWUFBWSxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQ2hELFFBQVEsWUFBWSxDQUFDLFlBQVksQ0FBQyxLQUFLLFlBQVksQ0FBQyxhQUFhLENBQUMsS0FDaEUsS0FBSyxhQUFMLEtBQUssY0FBTCxLQUFLLEdBQUksQ0FDWCxHQUFHO0lBQ0wsT0FBTyxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsQ0FDbEQsVUFBVSxZQUFZLENBQUMsWUFBWSxDQUFDLEtBQUssWUFBWSxDQUFDLGFBQWEsQ0FBQyxLQUNsRSxLQUFLLGFBQUwsS0FBSyxjQUFMLEtBQUssR0FBSSxDQUNYLEdBQUc7Q0FDTixDQUFDO0FBRUssTUFBTSx1QkFBdUIsR0FBeUI7SUFDM0QsUUFBUSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFLENBQ3ZELFdBQVcsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLFlBQVksQ0FBQyxTQUFTLENBQUMsS0FBSyxZQUFZLENBQ3hFLFFBQVEsQ0FDVCxLQUFLLFlBQVksQ0FBQyxXQUFXLENBQUMsR0FBRztDQUNyQyxDQUFDO0FBRUssTUFBTSxzQkFBc0IsR0FBcUI7SUFDdEQsV0FBVyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQ2pELGNBQWMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLFlBQVksQ0FBQyxPQUFPLENBQUMsS0FBSyxZQUFZLENBQ3pFLE9BQU8sQ0FDUixLQUFLLEtBQUssYUFBTCxLQUFLLGNBQUwsS0FBSyxHQUFJLENBQUMsR0FBRztDQUN0QixDQUFDO0FBRUssTUFBTSxrQkFBa0IsR0FBd0I7SUFDckQsWUFBWSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FDckIsZUFBZSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUc7Q0FDaEUsQ0FBQztBQUVLLE1BQU0sMkJBQTJCLEdBQWdDO0lBQ3RFLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxRQUFRLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUc7SUFDN0UsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxDQUN4QixTQUFTLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUc7SUFDdEQsS0FBSyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxDQUFDLFFBQVEsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRztDQUM5RSxDQUFDO0FBRUssTUFBTSxlQUFlLEdBQW9CO0lBQzlDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLENBQ3BDLE9BQU8sWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLFlBQVksQ0FBQyxZQUFZLENBQUMsS0FBSyxZQUFZLENBQ3ZFLEdBQUcsQ0FDSixHQUFHO0NBQ1AsQ0FBQztBQUVLLE1BQU0sMkJBQTJCLEdBQWdDO0lBQ3RFLG1CQUFtQixFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyx3QkFBd0IsWUFBWSxDQUFDLEdBQUcsQ0FBQyxHQUFHO0lBQzFFLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsT0FBTyxZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUc7SUFDMUMsTUFBTSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxTQUFTLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRztJQUM5QyxLQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLFFBQVEsWUFBWSxDQUFDLEdBQUcsQ0FBQyxHQUFHO0lBQzVDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsU0FBUyxZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUc7Q0FDL0MsQ0FBQztBQUVLLE1BQU0sYUFBYSx5R0FDckIsbUJBQW1CLEdBQ25CLGtCQUFrQixHQUNsQixlQUFlLEdBQ2YsdUJBQXVCLEdBQ3ZCLHNCQUFzQixHQUN0QiwyQkFBMkIsR0FDM0IsMkJBQTJCLENBQy9CLENBQUM7QUFFSyxNQUFNLGNBQWMsR0FBRyxDQUFDLEdBQVcsRUFBRSxHQUFlLEVBQVUsRUFBRTtJQUNyRSxJQUFJLEdBQUcsSUFBSSxtQkFBbUIsSUFBSSxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUN2RCxPQUFPLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ3RDO1NBQU0sSUFBSSxHQUFHLElBQUksa0JBQWtCLElBQUksY0FBYyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQzNELE9BQU8sa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDckM7U0FBTSxJQUFJLEdBQUcsSUFBSSxlQUFlLElBQUksYUFBYSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ3ZELE9BQU8sZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ2xDO1NBQU0sSUFBSSxHQUFHLElBQUksdUJBQXVCLElBQUksaUJBQWlCLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDbkUsT0FBTyx1QkFBdUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUMxQztTQUFNLElBQUksR0FBRyxJQUFJLHNCQUFzQixJQUFJLGFBQWEsQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUM5RCxPQUFPLHNCQUFzQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ3pDO1NBQU0sSUFBSSxHQUFHLElBQUksMkJBQTJCLElBQUksZUFBZSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ3JFLE9BQU8sMkJBQTJCLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDOUM7U0FBTSxJQUNMLEdBQUcsSUFBSSwyQkFBMkI7UUFDbEMsQ0FBQyx5QkFBeUIsQ0FBQyxHQUFHLENBQUMsSUFBSSxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsRUFDdEQ7UUFDQSxPQUFPLDJCQUEyQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQzlDO0lBQ0QsTUFBTSxXQUFXLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztBQUNsQyxDQUFDLENBQUM7OztBQ3hHNEM7QUFHdkMsTUFBTSxjQUFjLEdBQW1CO0lBQzVDLFdBQVcsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsQ0FDL0IsZUFBZSxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssWUFBWSxDQUFDLEtBQUssQ0FBQyxHQUFHO0lBQzlELGFBQWEsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsQ0FDakMsaUJBQWlCLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxZQUFZLENBQUMsS0FBSyxDQUFDLEdBQUc7Q0FDakUsQ0FBQztBQUVLLE1BQU0sb0JBQW9CLEdBQXlCO0lBQ3hELGFBQWEsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFLENBQzlDLGlCQUFpQixZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssWUFBWSxDQUNsRCxLQUFLLENBQ04sS0FBSyxZQUFZLENBQUMsV0FBVyxDQUFDLEdBQUc7Q0FDckMsQ0FBQzs7O0FDZmtEO0FBQ087QUFTbkM7QUFhakIsTUFBTSxxQkFBcUIsR0FBMEI7SUFDMUQsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxPQUFPLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRztJQUMxQyxLQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLFFBQVEsWUFBWSxDQUFDLEdBQUcsQ0FBQyxHQUFHO0lBQzVDLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsT0FBTyxZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUc7SUFDMUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxPQUFPLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRztJQUMxQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLE9BQU8sWUFBWSxDQUFDLEdBQUcsQ0FBQyxHQUFHO0lBQzFDLEtBQUssRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsUUFBUSxZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUc7Q0FDN0MsQ0FBQztBQUVLLE1BQU0sb0JBQW9CLEdBQXlCO0lBQ3hELElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsV0FBVyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUc7SUFDdkUsTUFBTSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRztJQUN2RSxPQUFPLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLFVBQVUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHO0lBQ3pFLFNBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsWUFBWSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUc7SUFDN0UsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRztJQUNuRSxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLE9BQU8sR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHO0lBQ25FLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsT0FBTyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUc7Q0FDcEUsQ0FBQztBQUVLLE1BQU0scUJBQXFCLEdBQTBCO0lBQzFELEtBQUssRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUUsQ0FDL0IsV0FBVyxZQUFZLENBQUMsR0FBRyxDQUFDLEtBQUssWUFBWSxDQUFDLFlBQVksYUFBWixZQUFZLGNBQVosWUFBWSxHQUFJLENBQUMsQ0FBQyxHQUFHO0lBQ3JFLE1BQU0sRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUUsQ0FDaEMsU0FBUyxZQUFZLENBQUMsR0FBRyxDQUFDLEtBQUssWUFBWSxDQUFDLFlBQVksYUFBWixZQUFZLGNBQVosWUFBWSxHQUFJLENBQUMsQ0FBQyxHQUFHO0NBQ3BFLENBQUM7QUFFSyxNQUFNLGNBQWMsR0FBbUI7SUFDNUMsSUFBSSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxDQUN0QixPQUFPLFlBQVksQ0FBQyxHQUFHLENBQUMsS0FBSyxZQUFZLENBQUMsSUFBSSxhQUFKLElBQUksY0FBSixJQUFJLEdBQUksRUFBRSxDQUFDLEdBQUc7Q0FDM0QsQ0FBQztBQUVLLE1BQU0sY0FBYyxHQUFtQjtJQUM1QyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLENBQ3pCLE9BQU8sWUFBWSxDQUFDLEdBQUcsQ0FBQyxLQUFLLFlBQVksQ0FBQyxPQUFPLENBQUMsR0FBRztDQUN4RCxDQUFDO0FBRUssTUFBTSxnQkFBZ0IsR0FBcUI7SUFDaEQsSUFBSSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUN4QixTQUFTLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxZQUFZLENBQUMsS0FBSyxDQUFDLEdBQUc7Q0FDekQsQ0FBQztBQUVLLE1BQU0saUJBQWlCLEdBQXNCO0lBQ2xELE1BQU0sRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FDN0IsU0FBUyxZQUFZLENBQUMsR0FBRyxDQUFDLEtBQUssWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHO0lBQzNELFVBQVUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FDakMsYUFBYSxZQUFZLENBQUMsR0FBRyxDQUFDLEtBQUssWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHO0lBQy9ELFFBQVEsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FDL0IsV0FBVyxZQUFZLENBQUMsR0FBRyxDQUFDLEtBQUssWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHO0NBQzlELENBQUM7QUFFSyxNQUFNLGtCQUFrQix5R0FDMUIscUJBQXFCLEdBQ3JCLG9CQUFvQixHQUNwQixxQkFBcUIsR0FDckIsY0FBYyxHQUNkLGNBQWMsR0FDZCxnQkFBZ0IsR0FDaEIsaUJBQWlCLENBQ3JCLENBQUM7QUFFSyxNQUFNLGdCQUFnQixHQUFxQjtJQUNoRCxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLGVBQWUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ3hDLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDeEMsTUFBTSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxlQUFlLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUMxQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLGVBQWUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO0NBQ3pDLENBQUM7QUFFSyxNQUFNLG1CQUFtQixHQUFHLENBQUMsR0FBVyxFQUFFLEdBQWUsRUFBVSxFQUFFO0lBQzFFLElBQUksR0FBRyxJQUFJLG9CQUFvQixJQUFJLGFBQWEsQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNyRCxPQUFPLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ3ZDO1NBQU0sSUFBSSxHQUFHLElBQUkscUJBQXFCLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ3hELE9BQU8scUJBQXFCLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDeEM7U0FBTSxJQUFJLEdBQUcsSUFBSSxxQkFBcUIsSUFBSSxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDOUQsT0FBTyxxQkFBcUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUN4QztTQUFNLElBQUksR0FBRyxJQUFJLGNBQWMsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDakQsT0FBTyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDakM7U0FBTSxJQUFJLEdBQUcsSUFBSSxjQUFjLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ2pELE9BQU8sY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ2pDO1NBQU0sSUFBSSxHQUFHLElBQUksZ0JBQWdCLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ3JELE9BQU8sZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDbkM7U0FBTSxJQUFJLEdBQUcsSUFBSSxpQkFBaUIsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDdEQsT0FBTyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUNwQztJQUNELE1BQU0sV0FBVyxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFDbEMsQ0FBQyxDQUFDOzs7QUMxR2dEO0FBQ0w7QUFDNEI7QUFDbkI7QUFDVTtBQVd4QztBQUNnRDtBQUs1QztBQUVyQixNQUFNLGlCQUFpQixtQ0FDekIsZ0JBQWdCLEdBQ2hCLGdCQUFnQixDQUNwQixDQUFDO0FBRUssTUFBTSxXQUFXLEdBQUcsQ0FBQyxHQUFlLEVBQVMsRUFBRSxDQUNwRCxJQUFJLEtBQUssQ0FBQyx5QkFBeUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7QUFFckQsTUFBTSxZQUFZLEdBQUcsQ0FBQyxHQUFlLEVBQVUsRUFBRTtJQUN0RCxJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7UUFDckIsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDM0QsT0FBTyxHQUFHLEVBQUUsQ0FBQztTQUNkO1FBQ0QsSUFBSSxXQUFXLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDcEIsT0FBTyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDekI7UUFFRCxJQUFJLEdBQUcsWUFBWSxLQUFLLEVBQUU7WUFDeEIsTUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQWEsRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25FLE9BQU8sR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ25CO1FBRUQsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM5QixNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRWhDLElBQ0UsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDO1lBQ2YsZUFBZSxDQUFDLElBQUksQ0FBQztZQUNyQixrQkFBa0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQzFEO1lBQ0EsT0FBTyxxQkFBcUIsQ0FDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQWdDLENBQ3RFLENBQUM7U0FDSDtRQUVELE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQixJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFDMUIsTUFBTSxJQUFJLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUNsQztRQUVELE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNyQixJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7WUFDckIsSUFBSSxHQUFHLEtBQUssWUFBWSxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDekMsT0FBTyxJQUFJLEdBQUcsR0FBRyxDQUFDO2FBQ25CO1lBRUQsSUFBSSxHQUFHLEtBQUssU0FBUyxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDdEMsT0FBTyxHQUFHLENBQUM7YUFDWjtZQUNELElBQUksR0FBRyxJQUFJLGdCQUFnQixFQUFFO2dCQUMzQixPQUFPLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQzthQUNwQztpQkFBTSxJQUFJLEdBQUcsSUFBSSxhQUFhLEVBQUU7Z0JBQy9CLE9BQU8sY0FBYyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQzthQUNqQztpQkFBTSxJQUFJLEdBQUcsSUFBSSxrQkFBa0IsRUFBRTtnQkFDcEMsT0FBTyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7YUFDdEM7aUJBQU0sSUFBSSxHQUFHLElBQUksY0FBYyxJQUFJLFdBQVcsQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDcEQsT0FBTyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDakM7aUJBQU0sSUFBSSxHQUFHLElBQUksb0JBQW9CLElBQUksa0JBQWtCLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ2pFLE9BQU8sY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ2pDO2lCQUFNLElBQUksR0FBRyxJQUFJLGNBQWMsRUFBRTtnQkFDaEMsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7b0JBQ25CLE9BQU8seUJBQXlCLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7aUJBQzFEO3FCQUFNLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO29CQUNsQyxPQUFPLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztpQkFDakM7YUFDRjtpQkFBTSxJQUFJLGFBQWEsQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDN0IsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDakMsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFFbkMsSUFDRSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUM7b0JBQ2xCLGVBQWUsQ0FBQyxPQUFPLENBQUM7b0JBQ3hCLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQ2hFLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDeEQ7b0JBQ0EsSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksZ0JBQWdCLENBQUMsRUFBRTt3QkFDL0MsT0FBTyxxQkFBcUIsQ0FDMUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7NEJBQ3JCLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTt5QkFDM0IsQ0FBQyxDQUFDLENBQ0osQ0FBQztxQkFDSDtvQkFDRCxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQyxFQUFFO3dCQUMvQyxPQUFPLEVBQUUsQ0FBQztxQkFDWDtpQkFDRjtnQkFFRCxNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzFCLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDMUIsSUFDRSxNQUFNLElBQUksaUJBQWlCO29CQUMzQixDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsSUFBSSxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsRUFDOUM7b0JBQ0EsT0FBTyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDL0IsQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNO3FCQUNkLENBQUMsQ0FBQztpQkFDSjthQUNGO2lCQUFNLElBQUksYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDakQsT0FBTyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7YUFDOUM7U0FDRjtLQUNGO0lBQ0QsTUFBTSxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDekIsQ0FBQyxDQUFDOzs7QUM5SDRDO0FBRTlDLGdEQUFlLENBQUMsSUFBbUIsRUFBVSxFQUFFO0lBQzdDLElBQ0UsTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxpQkFBaUIsQ0FBQztRQUM3RCxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQztRQUVuRCxNQUFNLElBQUksS0FBSyxDQUNiLDZFQUE2RSxDQUM5RSxDQUFDO0lBRUosTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7U0FDN0IsR0FBRyxDQUFDLENBQUMsR0FBVyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3RCLGlEQUFpRDtRQUNqRCw4REFBOEQ7UUFDOUQsTUFBTSxHQUFHLEdBQVEsSUFBSSxDQUFDLEdBQTBCLENBQUMsQ0FBQztRQUNsRCxJQUFJLFNBQVMsQ0FBQztRQUNkLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUN0QixTQUFTLEdBQUcsR0FBRztpQkFDWixHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2YsUUFBUSxPQUFPLElBQUksRUFBRTtvQkFDbkIsS0FBSyxRQUFRO3dCQUNYLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7NkJBQ3JCLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFOzRCQUNkLE9BQU8sR0FBRyxrQkFBa0IsQ0FDMUIsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLE1BQU0sR0FBRyxDQUMxQixJQUFJLGtCQUFrQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUM7d0JBQzFDLENBQUMsQ0FBQzs2QkFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQ2YsS0FBSyxRQUFRO3dCQUNYLE9BQU8sR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksa0JBQWtCLENBQzVELElBQUksQ0FDTCxFQUFFLENBQUM7aUJBQ1A7WUFDSCxDQUFDLENBQUM7aUJBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ2Q7YUFBTTtZQUNMLElBQUksR0FBRyxLQUFLLE9BQU8sRUFBRTtnQkFDbkIsU0FBUyxHQUFHLG1CQUFtQixrQkFBa0IsQ0FDL0MsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUNsQixFQUFFLENBQUM7YUFDTDtpQkFBTTtnQkFDTCxTQUFTLEdBQUcsR0FBRyxHQUFHLElBQUksa0JBQWtCLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQzthQUNqRDtTQUNGO1FBQ0QsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7SUFDL0MsQ0FBQyxDQUFDO1NBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ1osT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQyxFQUFDOzs7QUNoREYsK0NBQWUsQ0FDYixHQUFRLEVBQ1IsSUFBWSxFQUNaLElBQVksRUFDWixRQUFRLEdBQUcsSUFBSSxFQUNULEVBQUU7SUFDUixJQUFJLEdBQUcsS0FBSyxTQUFTLElBQUksUUFBUTtRQUMvQixNQUFNLElBQUksS0FBSyxDQUFDLGFBQWEsSUFBSSxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3JELElBQUksR0FBRyxLQUFLLFNBQVMsSUFBSSxDQUFDLFFBQVE7UUFBRSxPQUFPO0lBQzNDLElBQUksT0FBTyxHQUFHLEtBQUssSUFBSSxFQUFFO1FBQ3ZCLElBQUksSUFBSSxLQUFLLE9BQU8sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQztZQUFFLE9BQU87UUFDbkQsTUFBTSxJQUFJLEtBQUssQ0FDYixvQ0FBb0MsSUFBSSxnQkFBZ0IsT0FBTyxHQUFHLGdCQUFnQixJQUFJLEdBQUcsQ0FDMUYsQ0FBQztLQUNIO0FBQ0gsQ0FBQyxFQUFDOzs7QUNqQkYsaURBQWUsQ0FBQyxNQUFjLEVBQVcsRUFBRSxDQUFDLE1BQU0sSUFBSSxHQUFHLEVBQUM7Ozs7O0FDQWxCO0FBQ3hDLDRDQUFlLE9BQU8sTUFBTSxLQUFLLFdBQVc7SUFDMUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUMzQixDQUFDLENBQUcsT0FBc0MsRUFBQzs7Ozs7Ozs7Ozs7O0FDSGpCO0FBUTVCLE1BQU0sZ0JBQWdCLEdBQXFCLENBQ3pDLEdBQVcsRUFDWCxJQUFpQixFQUNqQixZQUFvQixFQUNwQixRQUFnQixFQUNoQixHQUFZLEVBR1osRUFBRTtJQUNGLE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7UUFDckMsTUFBTSxjQUFjLEdBQUcsQ0FDckIsR0FBVyxFQUNYLElBQWlCLEVBQ2pCLFlBQW9CLEVBQ3BCLFFBQWdCLEVBQ2hCLEdBQVksRUFDTixFQUFFO1lBQ1IsSUFBSSxRQUFRLElBQUksUUFBUSxHQUFHLENBQUMsRUFBRTtnQkFDNUIsTUFBTSxDQUFDLHNCQUFzQixDQUFDLENBQUM7YUFDaEM7WUFDRCxVQUFVLENBQUMsR0FBUyxFQUFFO2dCQUNwQixJQUFJO29CQUNGLE1BQU0sR0FBRyxHQUFHLE1BQU0sS0FBSyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztvQkFDbkMsTUFBTSxJQUFJLEdBQUcsTUFBTSxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7b0JBQzlCLElBQUksR0FBRyxDQUFDLE1BQU0sS0FBSyxHQUFHLEVBQUU7d0JBQ3RCLGNBQWMsQ0FDWixHQUFHLEVBQ0gsSUFBSSxFQUNKLFlBQVksR0FBRyxHQUFHLEVBQ2xCLFFBQVEsR0FBRyxZQUFZLEVBQ3ZCLEdBQUcsQ0FDSixDQUFDO3FCQUNIO3lCQUFNO3dCQUNMLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztxQkFDZjtpQkFDRjtnQkFBQyxPQUFPLEdBQUcsRUFBRTtvQkFDWixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7aUJBQ2I7WUFDSCxDQUFDLEdBQUUsWUFBWSxDQUFDLENBQUM7UUFDbkIsQ0FBQyxDQUFDO1FBRUYsY0FBYyxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUN6RCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsRUFBQztBQUNGLDJEQUFlLGdCQUFnQixFQUFDOzs7Ozs7Ozs7Ozs7QUNuRE07QUFDVjtBQUNzQjtBQVkzQyxNQUFNLE9BQU8sR0FBRyxDQUFVLEVBQy9CLFFBQVEsRUFDUixPQUFPLEVBQ1AsUUFBUSxFQUNSLFdBQVcsR0FDTixFQUFjLEVBQUUsQ0FBQztJQUN0QixJQUFJO1FBQ0YsTUFBTSxHQUFHLEdBQWEsTUFBTSxLQUFLLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3JELE1BQU0sSUFBSSxHQUFHLE1BQU0sR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQzlCLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUMxQixJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssR0FBRyxFQUFFO2dCQUN0QixNQUFNLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQzthQUN2QztZQUVELElBQUksUUFBUSxDQUFDLGdCQUFnQixFQUFFO2dCQUM3QixJQUFJLENBQUMsV0FBVyxJQUFJLFdBQVcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLEVBQUU7b0JBQzlELE1BQU0sS0FBSyxHQUFHLE1BQU0sb0JBQWdCLENBQ2xDLFFBQVEsRUFDUixPQUFPLGFBQVAsT0FBTyxjQUFQLE9BQU8sR0FBSSxFQUFFLEVBQ2IsUUFBUSxDQUFDLFlBQVksRUFDckIsUUFBUSxDQUFDLFFBQVEsQ0FDbEIsQ0FBQztvQkFDRixPQUFPLEtBQUssQ0FBQztpQkFDZDthQUNGO1NBQ0Y7UUFDRCxPQUFPLElBQUksQ0FBQztLQUNiO0lBQUMsT0FBTyxHQUFHLEVBQUU7UUFDWixNQUFNLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ3RCO0FBQ0gsQ0FBQyxFQUFDOzs7Ozs7Ozs7Ozs7QUM3Q2tDO0FBQ0Y7QUFlRDtBQVNqQyxNQUFNLFlBQVksR0FBYTtJQUM3QixRQUFRO0lBQ1IsaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixVQUFVO0lBQ1YsTUFBTTtJQUNOLE1BQU07SUFDTixPQUFPO0NBQ1IsQ0FBQztBQUVGOztHQUVHO0FBQ0ksTUFBTSxhQUFhO0lBMEJ4Qjs7Ozs7T0FLRztJQUNILFlBQVksTUFBYyxFQUFFLElBQVksRUFBRSxNQUFlO1FBV3pEOzs7Ozs7O1dBT0c7UUFDSCxXQUFNLEdBQUcsQ0FDUCxLQUFhLEVBQ2IsT0FBdUIsRUFDdkIsSUFBYSxFQUNjLEVBQUUsQ0FBQztZQUM5QixJQUFJO2dCQUNGLFFBQVEsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO2dCQUNuQyxRQUFRLENBQUMsT0FBTyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQzlDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDeEMsTUFBTSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksS0FBSyxFQUFFLENBQUM7Z0JBQ3BELE1BQU0sSUFBSSxHQUFrQixPQUFPLENBQUMsQ0FBQyxtQkFBTSxPQUFPLEVBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQkFDMUQsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRTtvQkFDbkMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEVBQUU7d0JBQ2xDLE1BQU0sSUFBSSxLQUFLLENBQUMsbUJBQW1CLE1BQU0sRUFBRSxDQUFDLENBQUM7cUJBQzlDO2dCQUNILENBQUMsQ0FBQyxDQUFDO2dCQUNILElBQUksTUFBTSxHQUF1QixFQUFFLENBQUM7Z0JBQ3BDLElBQUksSUFBSSxHQUFxQixFQUFFLENBQUM7Z0JBQ2hDLElBQUksSUFBSSxFQUFFO29CQUNSLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUU7d0JBQzdCLElBQUksTUFBTSxFQUFFOzRCQUNWLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO3lCQUN0Qjt3QkFDRCxJQUFJOzRCQUNGLE1BQU0sSUFBSSxHQUFHLE1BQU0sT0FBTyxDQUF5QjtnQ0FDakQsUUFBUSxFQUFFLEdBQUcsR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQ0FDckMsT0FBTyxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsYUFBYSxFQUFFLFVBQVUsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUU7Z0NBQ2hFLFFBQVEsRUFBRSxJQUFJO2dDQUNkLFdBQVcsRUFBRTtvQ0FDWCxLQUFLLEVBQUUsQ0FBQztvQ0FDUixJQUFJLEVBQUUsSUFBSTtpQ0FDWDs2QkFDRixDQUFDLENBQUM7NEJBQ0gsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLElBQUksRUFBRTtnQ0FDbEIsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDOzZCQUNyQjs0QkFDRCxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQzt5QkFDdEI7d0JBQUMsT0FBTyxHQUFHLEVBQUU7NEJBQ1osTUFBTSxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQzt5QkFDdEI7cUJBQ0Y7aUJBQ0Y7cUJBQU07b0JBQ0wsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDO29CQUNqQixPQUFPLENBQUMsSUFBSSxFQUFFO3dCQUNaLElBQUksTUFBTSxFQUFFOzRCQUNWLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO3lCQUN0Qjt3QkFDRCxJQUFJOzRCQUNGLE1BQU0sSUFBSSxHQUEyQixNQUFNLE9BQU8sQ0FBQztnQ0FDakQsUUFBUSxFQUFFLEdBQUcsR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQ0FDckMsT0FBTyxFQUFFO29DQUNQLE9BQU8sRUFBRSxFQUFFLGFBQWEsRUFBRSxVQUFVLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRTtpQ0FDcEQ7Z0NBQ0QsUUFBUSxFQUFFLElBQUk7NkJBQ2YsQ0FBQyxDQUFDOzRCQUNILElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQzs0QkFDakMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7NEJBQ3JCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO2dDQUNoQixJQUFJLEdBQUcsSUFBSSxDQUFDOzZCQUNiO3lCQUNGO3dCQUFDLE9BQU8sR0FBRyxFQUFFOzRCQUNaLE1BQU0sSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7eUJBQ3RCO3FCQUNGO2lCQUNGO2dCQUNELE9BQU8sSUFBSSxDQUFDO2FBQ2I7WUFBQyxPQUFPLEdBQUcsRUFBRTtnQkFDWixNQUFNLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ3RCO1FBQ0gsQ0FBQyxFQUFDO1FBRUY7Ozs7OztXQU1HO1FBQ0gsU0FBSSxHQUFHLENBQU8sS0FBYSxFQUFFLEVBQVUsRUFBMkIsRUFBRSxDQUFDO1lBQ25FLElBQUk7Z0JBQ0YsUUFBUSxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQ25DLFFBQVEsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO2dCQUM3QixNQUFNLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLElBQUksRUFBRSxFQUFFLENBQUM7Z0JBQzFELE1BQU0sSUFBSSxHQUFtQixNQUFNLE9BQU8sQ0FBQztvQkFDekMsUUFBUSxFQUFFLEdBQUc7b0JBQ2IsT0FBTyxFQUFFO3dCQUNQLE9BQU8sRUFBRSxFQUFFLGFBQWEsRUFBRSxVQUFVLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRTtxQkFDcEQ7b0JBQ0QsUUFBUSxFQUFFLElBQUk7aUJBQ2YsQ0FBQyxDQUFDO2dCQUNILE9BQU8sSUFBSSxDQUFDO2FBQ2I7WUFBQyxPQUFPLEdBQUcsRUFBRTtnQkFDWixNQUFNLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ3RCO1FBQ0gsQ0FBQyxFQUFDO1FBRUY7Ozs7Ozs7V0FPRztRQUNILGlCQUFZLEdBQUcsQ0FDYixLQUFhLEVBQ2IsTUFBYyxFQUNkLFFBQW1CLEVBQ00sRUFBRSxDQUFDO1lBQzVCLElBQUk7Z0JBQ0YsUUFBUSxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQ25DLFFBQVEsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO2dCQUNyQyxRQUFRLENBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ2pELE1BQU0sR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLEtBQUssRUFBRSxDQUFDO2dCQUNwRCxNQUFNLElBQUksR0FBYyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsQ0FBQztnQkFDM0MsSUFBSSxRQUFRLEtBQUssU0FBUyxFQUFFO29CQUMxQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztpQkFDMUI7Z0JBQ0QsTUFBTSxJQUFJLEdBQW1CLE1BQU0sT0FBTyxDQUFDO29CQUN6QyxRQUFRLEVBQUUsR0FBRztvQkFDYixRQUFRLEVBQUUsSUFBSTtvQkFDZCxPQUFPLEVBQUU7d0JBQ1AsTUFBTSxFQUFFLE1BQU07d0JBQ2QsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO3dCQUMxQixPQUFPLEVBQUU7NEJBQ1AsYUFBYSxFQUFFLFVBQVUsSUFBSSxDQUFDLE1BQU0sRUFBRTs0QkFDdEMsY0FBYyxFQUFFLGtCQUFrQjt5QkFDbkM7cUJBQ0Y7aUJBQ0YsQ0FBQyxDQUFDO2dCQUNILE9BQU8sSUFBSSxDQUFDO2FBQ2I7WUFBQyxPQUFPLEdBQUcsRUFBRTtnQkFDWixNQUFNLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ3RCO1FBQ0gsQ0FBQyxFQUFDO1FBRUY7Ozs7Ozs7V0FPRztRQUNILGlCQUFZLEdBQUcsQ0FDYixLQUFhLEVBQ2IsTUFBNEIsRUFDNUIsSUFBaUIsRUFDUSxFQUFFLENBQUM7WUFDNUIsSUFBSTtnQkFDRixRQUFRLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztnQkFDbkMsUUFBUSxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQ3JDLElBQUksSUFBSSxFQUFFO29CQUNSLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLG1CQUFtQixFQUFFLFNBQVMsQ0FBQyxDQUFDO29CQUMzRCxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO2lCQUM1RDtnQkFDRCxNQUFNLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLElBQUksTUFBTSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUNqRSxNQUFNLElBQUksR0FBYyxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ2xELElBQUksS0FBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLFFBQVEsTUFBSyxTQUFTLEVBQUU7b0JBQ2hDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLFFBQVEsQ0FBQztpQkFDaEM7Z0JBQ0QsTUFBTSxJQUFJLEdBQW1CLE1BQU0sT0FBTyxDQUFDO29CQUN6QyxRQUFRLEVBQUUsR0FBRztvQkFDYixRQUFRLEVBQUUsSUFBSTtvQkFDZCxPQUFPLEVBQUU7d0JBQ1AsTUFBTSxFQUFFLEtBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxXQUFXLEVBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsT0FBTzt3QkFDM0MsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO3dCQUMxQixPQUFPLEVBQUU7NEJBQ1AsYUFBYSxFQUFFLFVBQVUsSUFBSSxDQUFDLE1BQU0sRUFBRTs0QkFDdEMsY0FBYyxFQUFFLGtCQUFrQjt5QkFDbkM7cUJBQ0Y7aUJBQ0YsQ0FBQyxDQUFDO2dCQUNILE9BQU8sSUFBSSxDQUFDO2FBQ2I7WUFBQyxPQUFPLEdBQUcsRUFBRTtnQkFDWixNQUFNLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ3RCO1FBQ0gsQ0FBQyxFQUFDO1FBRUY7Ozs7OztXQU1HO1FBQ0gsaUJBQVksR0FBRyxDQUFPLEtBQWEsRUFBRSxFQUFVLEVBQTJCLEVBQUUsQ0FBQztZQUMzRSxJQUFJO2dCQUNGLFFBQVEsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO2dCQUNuQyxRQUFRLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztnQkFDN0IsTUFBTSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUUsRUFBRSxDQUFDO2dCQUMxRCxNQUFNLElBQUksR0FBbUIsTUFBTSxPQUFPLENBQUM7b0JBQ3pDLFFBQVEsRUFBRSxHQUFHO29CQUNiLFFBQVEsRUFBRSxJQUFJO29CQUNkLE9BQU8sRUFBRTt3QkFDUCxNQUFNLEVBQUUsUUFBUTt3QkFDaEIsT0FBTyxFQUFFOzRCQUNQLGFBQWEsRUFBRSxVQUFVLElBQUksQ0FBQyxNQUFNLEVBQUU7eUJBQ3ZDO3FCQUNGO2lCQUNGLENBQUMsQ0FBQztnQkFDSCxPQUFPLElBQUksQ0FBQzthQUNiO1lBQUMsT0FBTyxHQUFHLEVBQUU7Z0JBQ1osTUFBTSxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUN0QjtRQUNILENBQUMsRUFBQztRQUVGOzs7Ozs7O1dBT0c7UUFDSCxlQUFVLEdBQUcsQ0FDWCxLQUFhLEVBQ2IsT0FBaUIsRUFDakIsUUFBbUIsRUFDUSxFQUFFLENBQUM7WUFDOUIsSUFBSTtnQkFDRixRQUFRLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztnQkFDbkMsUUFBUSxDQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ3RDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDakQsTUFBTSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksS0FBSyxFQUFFLENBQUM7Z0JBQ3BELE1BQU0sSUFBSSxHQUFrQjtvQkFDMUIsT0FBTyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7d0JBQ2hDLE1BQU0sRUFBRSxNQUFNO3FCQUNmLENBQUMsQ0FBQztpQkFDSixDQUFDO2dCQUNGLElBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtvQkFDMUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7aUJBQzFCO2dCQUNELE1BQU0sSUFBSSxHQUEyQixNQUFNLE9BQU8sQ0FBQztvQkFDakQsUUFBUSxFQUFFLEdBQUc7b0JBQ2IsT0FBTyxFQUFFO3dCQUNQLE1BQU0sRUFBRSxNQUFNO3dCQUNkLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQzt3QkFDMUIsT0FBTyxFQUFFOzRCQUNQLGFBQWEsRUFBRSxVQUFVLElBQUksQ0FBQyxNQUFNLEVBQUU7NEJBQ3RDLGNBQWMsRUFBRSxrQkFBa0I7eUJBQ25DO3FCQUNGO29CQUNELFFBQVEsRUFBRSxJQUFJO2lCQUNmLENBQUMsQ0FBQztnQkFDSCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7YUFDckI7WUFBQyxPQUFPLEdBQUcsRUFBRTtnQkFDWixNQUFNLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ3RCO1FBQ0gsQ0FBQyxFQUFDO1FBRUY7Ozs7Ozs7V0FPRztRQUNILGVBQVUsR0FBRyxDQUNYLEtBQWEsRUFDYixPQUErQixFQUMvQixJQUFpQixFQUNVLEVBQUUsQ0FBQztZQUM5QixJQUFJO2dCQUNGLFFBQVEsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO2dCQUNuQyxRQUFRLENBQUMsT0FBTyxFQUFFLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDdEMsSUFBSSxJQUFJLEVBQUU7b0JBQ1IsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsbUJBQW1CLEVBQUUsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO29CQUNsRSxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO2lCQUM1RDtnQkFDRCxNQUFNLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLEVBQUUsQ0FBQztnQkFDcEQsTUFBTSxJQUFJLEdBQWtCLEVBQUUsT0FBTyxFQUFFLENBQUM7Z0JBQ3hDLElBQUksS0FBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLFFBQVEsTUFBSyxTQUFTLEVBQUU7b0JBQ2hDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLFFBQVEsQ0FBQztpQkFDaEM7Z0JBQ0QsTUFBTSxJQUFJLEdBQTJCLE1BQU0sT0FBTyxDQUFDO29CQUNqRCxRQUFRLEVBQUUsR0FBRztvQkFDYixPQUFPLEVBQUU7d0JBQ1AsTUFBTSxFQUFFLEtBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxXQUFXLEVBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsT0FBTzt3QkFDM0MsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO3dCQUMxQixPQUFPLEVBQUU7NEJBQ1AsYUFBYSxFQUFFLFVBQVUsSUFBSSxDQUFDLE1BQU0sRUFBRTs0QkFDdEMsY0FBYyxFQUFFLGtCQUFrQjt5QkFDbkM7cUJBQ0Y7b0JBQ0QsUUFBUSxFQUFFLElBQUk7aUJBQ2YsQ0FBQyxDQUFDO2dCQUNILE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQzthQUNyQjtZQUFDLE9BQU8sR0FBRyxFQUFFO2dCQUNaLE1BQU0sSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDdEI7UUFDSCxDQUFDLEVBQUM7UUFFRjs7Ozs7O1dBTUc7UUFDSCxlQUFVLEdBQUcsQ0FDWCxLQUFhLEVBQ2IsR0FBYSxFQUNjLEVBQUUsQ0FBQztZQUM5QixJQUFJO2dCQUNGLFFBQVEsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO2dCQUNuQyxRQUFRLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDOUIsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO2dCQUNmLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUU7b0JBQ3BCLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTt3QkFDWCxLQUFLLEdBQUcsR0FBRyxLQUFLLGNBQWMsRUFBRSxFQUFFLENBQUM7cUJBQ3BDO3lCQUFNO3dCQUNMLEtBQUssR0FBRyxhQUFhLEVBQUUsRUFBRSxDQUFDO3FCQUMzQjtnQkFDSCxDQUFDLENBQUMsQ0FBQztnQkFDSCxNQUFNLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLElBQUksU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0JBQ3hFLE1BQU0sSUFBSSxHQUE0QixNQUFNLE9BQU8sQ0FBQztvQkFDbEQsUUFBUSxFQUFFLEdBQUc7b0JBQ2IsT0FBTyxFQUFFO3dCQUNQLE1BQU0sRUFBRSxRQUFRO3dCQUNoQixPQUFPLEVBQUU7NEJBQ1AsYUFBYSxFQUFFLFVBQVUsSUFBSSxDQUFDLE1BQU0sRUFBRTt5QkFDdkM7cUJBQ0Y7b0JBQ0QsUUFBUSxFQUFFLElBQUk7aUJBQ2YsQ0FBQyxDQUFDO2dCQUNILE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQzthQUNyQjtZQUFDLE9BQU8sR0FBRyxFQUFFO2dCQUNaLE1BQU0sSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDdEI7UUFDSCxDQUFDLEVBQUM7UUFFRjs7Ozs7Ozs7V0FRRztRQUNILGlCQUFZLEdBQUcsQ0FDYixLQUFhLEVBQ2IsWUFBb0IsRUFDcEIsTUFBYyxFQUNkLElBQWlCLEVBQ1EsRUFBRSxDQUFDO1lBQzVCLFFBQVEsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ25DLFFBQVEsQ0FBQyxZQUFZLEVBQUUsY0FBYyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ2pELFFBQVEsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ3JDLElBQUksSUFBSSxFQUFFO2dCQUNSLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLG1CQUFtQixFQUFFLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDbEUsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsZUFBZSxFQUFFLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQzthQUM1RDtZQUNELE1BQU0sTUFBTSxHQUFHLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsRUFBRSxlQUFlLEVBQUUsWUFBWSxFQUFFLENBQUMsQ0FBQztZQUMzRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUNkLE9BQU8sTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLFFBQVEsQ0FBQyxDQUFDO2FBQy9EO2lCQUFNO2dCQUNMLE9BQU8sTUFBTSxJQUFJLENBQUMsWUFBWSxDQUM1QixLQUFLLEVBQ0w7b0JBQ0UsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO29CQUNoQixNQUFNLEVBQUUsTUFBTTtpQkFDZixFQUNELElBQUksQ0FDTCxDQUFDO2FBQ0g7UUFDSCxDQUFDLEVBQUM7UUFsWUEsSUFBSSxDQUFDLE1BQU07WUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLElBQUk7WUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE9BQU0sYUFBTixNQUFNLHVCQUFOLE1BQU0sQ0FBRSxnQkFBZ0IsS0FBSSxJQUFJLENBQUM7UUFDekQsSUFBSSxDQUFDLFlBQVksR0FBRyxPQUFNLGFBQU4sTUFBTSx1QkFBTixNQUFNLENBQUUsWUFBWSxLQUFJLElBQUksQ0FBQztRQUNqRCxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU0sYUFBTixNQUFNLHVCQUFOLE1BQU0sQ0FBRSxRQUFRLEtBQUksS0FBSyxDQUFDO1FBQzFDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTSxhQUFOLE1BQU0sdUJBQU4sTUFBTSxDQUFFLE9BQU8sS0FBSSw2QkFBNkIsQ0FBQztJQUNsRSxDQUFDO0NBMlhGO0FBRUQsSUFBSSxPQUFPLE1BQU0sS0FBSyxXQUFXLEVBQUU7SUFDakMsTUFBTSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7Q0FDdEM7QUFFTSxNQUFNLFlBQVksR0FBRyxHQUFXLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQztBQUNwRCxNQUFNLEdBQUcsR0FBRyxHQUFXLEVBQUUsQ0FBQyxPQUFPLENBQUM7QUFDbEMsTUFBTSxLQUFLLEdBQUcsR0FBVyxFQUFFLENBQUMsU0FBUyxDQUFDO0FBQ3RDLE1BQU0sS0FBSyxHQUFHLEdBQVcsRUFBRSxDQUFDLFNBQVMsQ0FBQztBQUN0QyxNQUFNLGtCQUFrQixHQUFHLEdBQVcsRUFBRSxDQUFDLHNCQUFzQixDQUFDO0FBQ2hFLE1BQU0sU0FBUyxHQUFHLEdBQVcsRUFBRSxDQUFDLGFBQWEsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FzeW5jYWlydGFibGUvLi9ub2RlX21vZHVsZXMvbm9kZS1mZXRjaC9icm93c2VyLmpzIiwid2VicGFjazovL2FzeW5jYWlydGFibGUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYXN5bmNhaXJ0YWJsZS8uL3NyYy9hcnJheUZ1bmN0aW9ucy50cyIsIndlYnBhY2s6Ly9hc3luY2FpcnRhYmxlLy4vc3JjL2Jhc2VIYW5kbGVycy50cyIsIndlYnBhY2s6Ly9hc3luY2FpcnRhYmxlLy4vc3JjL3R5cGVDaGVja2Vycy50cyIsIndlYnBhY2s6Ly9hc3luY2FpcnRhYmxlLy4vc3JjL2xvZ2ljYWxGdW5jdGlvbnMudHMiLCJ3ZWJwYWNrOi8vYXN5bmNhaXJ0YWJsZS8uL3NyYy9idWlsZEV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vYXN5bmNhaXJ0YWJsZS8uL3NyYy9sb2dpY2FsT3BlcmF0b3JzLnRzIiwid2VicGFjazovL2FzeW5jYWlydGFibGUvLi9zcmMvdGV4dEZ1bmN0aW9ucy50cyIsIndlYnBhY2s6Ly9hc3luY2FpcnRhYmxlLy4vc3JjL3JlZ2V4RnVuY3Rpb25zLnRzIiwid2VicGFjazovL2FzeW5jYWlydGFibGUvLi9zcmMvbnVtZXJpY0Z1bmN0aW9ucy50cyIsIndlYnBhY2s6Ly9hc3luY2FpcnRhYmxlLy4vc3JjL3F1ZXJ5QnVpbGRlci50cyIsIndlYnBhY2s6Ly9hc3luY2FpcnRhYmxlLy4vc3JjL2J1aWxkT3B0cy50cyIsIndlYnBhY2s6Ly9hc3luY2FpcnRhYmxlLy4vc3JjL2NoZWNrQXJnLnRzIiwid2VicGFjazovL2FzeW5jYWlydGFibGUvLi9zcmMvY2hlY2tFcnJvci50cyIsIndlYnBhY2s6Ly9hc3luY2FpcnRhYmxlLy4vc3JjL2ZldGNoLnRzIiwid2VicGFjazovL2FzeW5jYWlydGFibGUvLi9zcmMvcmF0ZUxpbWl0SGFuZGxlci50cyIsIndlYnBhY2s6Ly9hc3luY2FpcnRhYmxlLy4vc3JjL2h0dHAudHMiLCJ3ZWJwYWNrOi8vYXN5bmNhaXJ0YWJsZS8uL3NyYy9hc3luY0FpcnRhYmxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vLyByZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWdsb2JhbFxudmFyIGdldEdsb2JhbCA9IGZ1bmN0aW9uICgpIHtcblx0Ly8gdGhlIG9ubHkgcmVsaWFibGUgbWVhbnMgdG8gZ2V0IHRoZSBnbG9iYWwgb2JqZWN0IGlzXG5cdC8vIGBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpYFxuXHQvLyBIb3dldmVyLCB0aGlzIGNhdXNlcyBDU1AgdmlvbGF0aW9ucyBpbiBDaHJvbWUgYXBwcy5cblx0aWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykgeyByZXR1cm4gc2VsZjsgfVxuXHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsgcmV0dXJuIHdpbmRvdzsgfVxuXHRpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHsgcmV0dXJuIGdsb2JhbDsgfVxuXHR0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdCcpO1xufVxuXG52YXIgZ2xvYmFsID0gZ2V0R2xvYmFsKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGdsb2JhbC5mZXRjaDtcblxuLy8gTmVlZGVkIGZvciBUeXBlU2NyaXB0IGFuZCBXZWJwYWNrLlxuaWYgKGdsb2JhbC5mZXRjaCkge1xuXHRleHBvcnRzLmRlZmF1bHQgPSBnbG9iYWwuZmV0Y2guYmluZChnbG9iYWwpO1xufVxuXG5leHBvcnRzLkhlYWRlcnMgPSBnbG9iYWwuSGVhZGVycztcbmV4cG9ydHMuUmVxdWVzdCA9IGdsb2JhbC5SZXF1ZXN0O1xuZXhwb3J0cy5SZXNwb25zZSA9IGdsb2JhbC5SZXNwb25zZTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiaW1wb3J0IHsgcXVlcnlCdWlsZGVyIH0gZnJvbSAnLi9xdWVyeUJ1aWxkZXInO1xuaW1wb3J0IHsgQXJyYXlGdW5jdGlvbnMsIFF1ZXJ5RmllbGQgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGFycmF5RnVuY3Rpb25zOiBBcnJheUZ1bmN0aW9ucyA9IHtcbiAgJGFycmF5Q29tcGFjdDogKHZhbDogUXVlcnlGaWVsZCk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIGBBUlJBWUNPTVBBQ1QoJHtxdWVyeUJ1aWxkZXIodmFsKX0pYDtcbiAgfSxcbiAgJGFycmF5RmxhdHRlbjogKHZhbDogUXVlcnlGaWVsZCk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIGBBUlJBWUZMQVRURU4oJHtxdWVyeUJ1aWxkZXIodmFsKX0pYDtcbiAgfSxcbiAgJGFycmF5VW5pcXVlOiAodmFsOiBRdWVyeUZpZWxkKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gYEFSUkFZVU5JUVVFKCR7cXVlcnlCdWlsZGVyKHZhbCl9KWA7XG4gIH0sXG4gICRhcnJheUpvaW46ICh2YWw6IFF1ZXJ5RmllbGQsIHNlcGVyYXRvciA9ICcsJyk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIGBBUlJBWUpPSU4oJHtxdWVyeUJ1aWxkZXIodmFsKX0sICR7cXVlcnlCdWlsZGVyKHNlcGVyYXRvcil9KWA7XG4gIH0sXG59O1xuIiwiaW1wb3J0IHsgQmFzZUZpZWxkVHlwZSB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgYm9vbGVhbkhhbmRsZXIgPSAoYm9vbDogYm9vbGVhbik6IHN0cmluZyA9PiB7XG4gIHJldHVybiBib29sID8gJ1RSVUUoKScgOiAnRkFMU0UoKSc7XG59O1xuXG5leHBvcnQgY29uc3QgYmFzZUhhbmRsZXIgPSAodmFsOiBCYXNlRmllbGRUeXBlKTogc3RyaW5nID0+IHtcbiAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgIHJldHVybiAnQkxBTksoKSc7XG4gIH1cbiAgc3dpdGNoICh0eXBlb2YgdmFsKSB7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBgJHt2YWx9YDtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIGAnJHt2YWx9J2A7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gYm9vbGVhbkhhbmRsZXIodmFsKTtcbiAgfVxufTtcbiIsImltcG9ydCB7XG4gIFF1ZXJ5T2JqZWN0LFxuICBRdWVyeUZpZWxkLFxuICBKb2luQXJncyxcbiAgVGV4dFNlYXJjaEFyZ3MsXG4gIEZpZWxkTmFtZU9iamVjdCxcbiAgVW5jaGVja2VkQXJyYXksXG4gIEJhc2VGaWVsZFR5cGUsXG4gIElmQXJncyxcbiAgVGV4dFJlcGxhY2VBcmdzLFxuICBUZXh0U3ViQXJncyxcbiAgVGV4dE1pZEFyZ3MsXG4gIFRleHREb3VibGVBcmcsXG4gIFN3aXRjaEFyZ3MsXG4gIFJlZ2V4QXJncyxcbiAgUmVnZXhSZXBsYWNlQXJncyxcbiAgVGV4dEFyZyxcbiAgTnVtQXJnLFxuICBCb29sQXJnLFxuICBBZGRBcmcsXG4gIERpZmZBcmcsXG4gIEZvcm1hdEFyZyxcbiAgUGFyc2VBcmcsXG4gIFdlZWtBcmcsXG4gIFdvcmtEYXlBcmcsXG4gIFdvcmtEYXlEaWZmQXJnLFxuICBEb3VibGVEYXRlT2JqLFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7XG4gIENlaWxGbG9vckFyZyxcbiAgTG9nQXJnLFxuICBNb2RBcmcsXG4gIFBvd2VyQXJnLFxuICBSb3VuZEFyZyxcbn0gZnJvbSAnLi90eXBlcy9xdWVyeUJ1aWxkZXIvbnVtZXJpYyc7XG5cbmNvbnN0IGNoZWNrUHJvcGVydHkgPSAoXG4gIG9iajogUXVlcnlPYmplY3QsXG4gIHByb3A6IHN0cmluZyxcbiAgdHlwZUNoZWNrPzogKGFyZzogUXVlcnlGaWVsZCB8IHVuZGVmaW5lZCkgPT4gYm9vbGVhbixcbikgPT5cbiAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkgJiZcbiAgKHR5cGVDaGVjayAhPT0gdW5kZWZpbmVkID8gdHlwZUNoZWNrKG9ialtwcm9wXSkgOiB0cnVlKTtcblxuZXhwb3J0IGNvbnN0IGlzUXVlcnlPYmplY3QgPSAoaXRlbTogUXVlcnlGaWVsZCk6IGl0ZW0gaXMgUXVlcnlPYmplY3QgPT4ge1xuICBpZiAoaXRlbSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgUXVlcnkgT2JqZWN0Jyk7XG4gIHJldHVybiBpdGVtICE9PSBudWxsICYmIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpdGVtKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1RleHRBcmcgPSAoaXRlbTogUXVlcnlGaWVsZCk6IGl0ZW0gaXMgVGV4dEFyZyA9PlxuICBpc1N0cmluZ09yRmllbGROYW1lT2JqZWN0KGl0ZW0pIHx8IGlzUXVlcnlPYmplY3QoaXRlbSk7XG5cbmV4cG9ydCBjb25zdCBpc051bUFyZyA9IChpdGVtOiBRdWVyeUZpZWxkKTogaXRlbSBpcyBOdW1BcmcgPT5cbiAgaXNOdW1PckZpZWxkTmFtZU9iamVjdChpdGVtKSB8fCBpc1F1ZXJ5T2JqZWN0KGl0ZW0pO1xuXG5leHBvcnQgY29uc3QgaXNCb29sQXJnID0gKGl0ZW06IFF1ZXJ5RmllbGQpOiBpdGVtIGlzIEJvb2xBcmcgPT5cbiAgaXNCb29sT3JGaWVsZE5hbWVPYmplY3QoaXRlbSkgfHwgaXNRdWVyeU9iamVjdChpdGVtKTtcblxuZXhwb3J0IGNvbnN0IGlzUXVlcnlPYmplY3RBcnJheSA9IChhcnI6IFF1ZXJ5RmllbGQpOiBhcnIgaXMgUXVlcnlPYmplY3RbXSA9PlxuICBhcnIgaW5zdGFuY2VvZiBBcnJheSAmJiBhcnIuZXZlcnkoKHY6IFF1ZXJ5RmllbGQpID0+IGlzUXVlcnlPYmplY3QodikpO1xuXG5leHBvcnQgY29uc3QgaXNUZXh0QXJnQXJyYXkgPSAoYXJyOiBRdWVyeUZpZWxkKTogYXJyIGlzIFRleHRBcmdbXSA9PlxuICBhcnIgaW5zdGFuY2VvZiBBcnJheSAmJiBhcnIuZXZlcnkoKHY6IFF1ZXJ5RmllbGQpID0+IGlzVGV4dEFyZyh2KSk7XG5cbmV4cG9ydCBjb25zdCBpc051bUFyZ0FycmF5ID0gKGFycjogUXVlcnlGaWVsZCk6IGFyciBpcyBOdW1BcmdbXSA9PlxuICBhcnIgaW5zdGFuY2VvZiBBcnJheSAmJiBhcnIuZXZlcnkoKHY6IFF1ZXJ5RmllbGQpID0+IGlzTnVtQXJnKHYpKTtcblxuZXhwb3J0IGNvbnN0IGlzSm9pbkFyZ3MgPSAoYXJnOiBRdWVyeUZpZWxkKTogYXJnIGlzIEpvaW5BcmdzID0+XG4gICEhKGlzUXVlcnlPYmplY3QoYXJnKSAmJiBhcmcudmFsKTtcblxuZXhwb3J0IGNvbnN0IGlzRmllbGROYW1lT2JqZWN0ID0gKHZhbDogUXVlcnlGaWVsZCk6IHZhbCBpcyBGaWVsZE5hbWVPYmplY3QgPT5cbiAgaXNRdWVyeU9iamVjdCh2YWwpICYmIHR5cGVvZiB2YWwuJGZpZWxkTmFtZSA9PT0gJ3N0cmluZyc7XG5cbmV4cG9ydCBjb25zdCBpc1N0cmluZyA9IChhcmc6IFF1ZXJ5RmllbGQpOiBhcmcgaXMgc3RyaW5nID0+XG4gIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xuXG5leHBvcnQgY29uc3QgaXNTdHJpbmdBcnJheSA9IChhcmc6IFF1ZXJ5RmllbGQpOiBhcmcgaXMgc3RyaW5nW10gPT5cbiAgQXJyYXkuaXNBcnJheShhcmcpICYmIGFyZy5ldmVyeSgocykgPT4gdHlwZW9mIHMgPT09ICdzdHJpbmcnKTtcblxuZXhwb3J0IGNvbnN0IGlzU3RyaW5nT3JGaWVsZE5hbWVPYmplY3QgPSAoXG4gIHZhbDogUXVlcnlGaWVsZCxcbik6IHZhbCBpcyBzdHJpbmcgfCBGaWVsZE5hbWVPYmplY3QgPT4gaXNTdHJpbmcodmFsKSB8fCBpc0ZpZWxkTmFtZU9iamVjdCh2YWwpO1xuXG5leHBvcnQgY29uc3QgaXNOdW1PckZpZWxkTmFtZU9iamVjdCA9IChcbiAgdmFsOiBRdWVyeUZpZWxkLFxuKTogdmFsIGlzIG51bWJlciB8IEZpZWxkTmFtZU9iamVjdCA9PlxuICB0eXBlb2YgdmFsID09PSAnbnVtYmVyJyB8fCBpc0ZpZWxkTmFtZU9iamVjdCh2YWwpO1xuXG5leHBvcnQgY29uc3QgaXNCb29sT3JGaWVsZE5hbWVPYmplY3QgPSAoXG4gIHZhbDogUXVlcnlGaWVsZCxcbik6IHZhbCBpcyBudW1iZXIgfCBGaWVsZE5hbWVPYmplY3QgPT5cbiAgdHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nIHx8IGlzRmllbGROYW1lT2JqZWN0KHZhbCk7XG5cbmV4cG9ydCBjb25zdCBpc1RleHRTZWFyY2hBcmdzID0gKGFyZzogUXVlcnlGaWVsZCk6IGFyZyBpcyBUZXh0U2VhcmNoQXJncyA9PlxuICAhIShcbiAgICBpc1F1ZXJ5T2JqZWN0KGFyZykgJiZcbiAgICBjaGVja1Byb3BlcnR5KGFyZywgJ3N0cmluZ1RvRmluZCcsIGlzVGV4dEFyZykgJiZcbiAgICBjaGVja1Byb3BlcnR5KGFyZywgJ3doZXJlVG9TZWFyY2gnLCBpc1RleHRBcmcpICYmXG4gICAgKGNoZWNrUHJvcGVydHkoYXJnLCAnaW5kZXgnKSA/IGlzTnVtQXJnKGFyZy5pbmRleCkgOiB0cnVlKVxuICApO1xuXG5leHBvcnQgY29uc3QgaXNUZXh0UmVwbGFjZUFyZ3MgPSAoYXJnOiBRdWVyeUZpZWxkKTogYXJnIGlzIFRleHRSZXBsYWNlQXJncyA9PlxuICAhIShcbiAgICBpc1F1ZXJ5T2JqZWN0KGFyZykgJiZcbiAgICBjaGVja1Byb3BlcnR5KGFyZywgJ3RleHQnLCBpc1RleHRBcmcpICYmXG4gICAgY2hlY2tQcm9wZXJ0eShhcmcsICdzdGFydENoYXInLCBpc051bUFyZykgJiZcbiAgICBjaGVja1Byb3BlcnR5KGFyZywgJ251bUNoYXJzJywgaXNOdW1BcmcpICYmXG4gICAgY2hlY2tQcm9wZXJ0eShhcmcsICdyZXBsYWNlbWVudCcsIGlzVGV4dEFyZylcbiAgKTtcblxuZXhwb3J0IGNvbnN0IGlzVGV4dFN1YkFyZ3MgPSAoYXJnOiBRdWVyeUZpZWxkKTogYXJnIGlzIFRleHRTdWJBcmdzID0+XG4gICEhKFxuICAgIGlzUXVlcnlPYmplY3QoYXJnKSAmJlxuICAgIGNoZWNrUHJvcGVydHkoYXJnLCAndGV4dCcsIGlzVGV4dEFyZykgJiZcbiAgICBjaGVja1Byb3BlcnR5KGFyZywgJ29sZFRleHQnLCBpc1RleHRBcmcpICYmXG4gICAgY2hlY2tQcm9wZXJ0eShhcmcsICduZXdUZXh0JywgaXNUZXh0QXJnKSAmJlxuICAgIChjaGVja1Byb3BlcnR5KGFyZywgJ2luZGV4JykgPyBpc051bUFyZyhhcmcuaW5kZXgpIDogdHJ1ZSlcbiAgKTtcbmV4cG9ydCBjb25zdCBpc1RleHRNaWRBcmdzID0gKGFyZzogUXVlcnlGaWVsZCk6IGFyZyBpcyBUZXh0TWlkQXJncyA9PlxuICAhIShcbiAgICBpc1F1ZXJ5T2JqZWN0KGFyZykgJiZcbiAgICBjaGVja1Byb3BlcnR5KGFyZywgJ3RleHQnLCBpc1RleHRBcmcpICYmXG4gICAgY2hlY2tQcm9wZXJ0eShhcmcsICd3aGVyZVRvU3RhcnQnLCBpc051bUFyZykgJiZcbiAgICBjaGVja1Byb3BlcnR5KGFyZywgJ251bScsIGlzTnVtQXJnKVxuICApO1xuZXhwb3J0IGNvbnN0IGlzVGV4dERvdWJsZUFyZyA9IChhcmc6IFF1ZXJ5RmllbGQpOiBhcmcgaXMgVGV4dERvdWJsZUFyZyA9PlxuICAhIShcbiAgICBpc1F1ZXJ5T2JqZWN0KGFyZykgJiZcbiAgICBjaGVja1Byb3BlcnR5KGFyZywgJ3RleHQnLCBpc1RleHRBcmcpICYmXG4gICAgY2hlY2tQcm9wZXJ0eShhcmcsICdudW0nLCBpc051bUFyZylcbiAgKTtcblxuZXhwb3J0IGNvbnN0IGFsbEluZGV4ZXNWYWxpZCA9IChhcnI6IFVuY2hlY2tlZEFycmF5KTogYXJyIGlzIFF1ZXJ5RmllbGRbXSA9PlxuICBhcnIuZXZlcnkoKGUpID0+IGUgIT09IHVuZGVmaW5lZCAmJiBlICE9PSBudWxsKTtcblxuZXhwb3J0IGNvbnN0IGlzQmFzZUZpZWxkID0gKGl0ZW06IFF1ZXJ5RmllbGQpOiBpdGVtIGlzIEJhc2VGaWVsZFR5cGUgPT5cbiAgKHR5cGVvZiBpdGVtICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgaXRlbSAhPT0gJ2Z1bmN0aW9uJykgfHwgaXRlbSA9PT0gbnVsbDtcblxuZXhwb3J0IGNvbnN0IGlzSWZBcmdzID0gKGFyZzogUXVlcnlGaWVsZCk6IGFyZyBpcyBJZkFyZ3MgPT5cbiAgISEoXG4gICAgaXNRdWVyeU9iamVjdChhcmcpICYmXG4gICAgY2hlY2tQcm9wZXJ0eShhcmcsICdleHByZXNzaW9uJywgaXNCb29sQXJnKSAmJlxuICAgIGNoZWNrUHJvcGVydHkoYXJnLCAnaWZUcnVlJykgJiZcbiAgICBjaGVja1Byb3BlcnR5KGFyZywgJ2lmRmFsc2UnKVxuICApO1xuXG5leHBvcnQgY29uc3QgaXNTd2l0Y2hBcmdzID0gKGFyZzogUXVlcnlGaWVsZCk6IGFyZyBpcyBTd2l0Y2hBcmdzID0+XG4gICEhKFxuICAgIGlzUXVlcnlPYmplY3QoYXJnKSAmJlxuICAgIGNoZWNrUHJvcGVydHkoYXJnLCAnZXhwcmVzc2lvbicsIGlzQm9vbEFyZykgJiZcbiAgICBjaGVja1Byb3BlcnR5KGFyZywgJ2Nhc2VzJykgJiZcbiAgICBhcmcuY2FzZXMgaW5zdGFuY2VvZiBBcnJheSAmJlxuICAgIGFyZy5jYXNlcy5ldmVyeShcbiAgICAgIChjKSA9PlxuICAgICAgICBpc1F1ZXJ5T2JqZWN0KGMpICYmXG4gICAgICAgIGNoZWNrUHJvcGVydHkoYywgJ3N3aXRjaENhc2UnKSAmJlxuICAgICAgICBjaGVja1Byb3BlcnR5KGMsICd2YWwnKSxcbiAgICApICYmXG4gICAgY2hlY2tQcm9wZXJ0eShhcmcsICdkZWZhdWx0VmFsJylcbiAgKTtcblxuZXhwb3J0IGNvbnN0IGlzUmVnZXhBcmdzID0gKGFyZzogUXVlcnlGaWVsZCk6IGFyZyBpcyBSZWdleEFyZ3MgPT5cbiAgISEoXG4gICAgaXNRdWVyeU9iamVjdChhcmcpICYmXG4gICAgY2hlY2tQcm9wZXJ0eShhcmcsICd0ZXh0JywgaXNUZXh0QXJnKSAmJlxuICAgIGNoZWNrUHJvcGVydHkoYXJnLCAncmVnZXgnLCBpc1RleHRBcmcpXG4gICk7XG5cbmV4cG9ydCBjb25zdCBpc1JlZ2V4UmVwbGFjZUFyZ3MgPSAoYXJnOiBRdWVyeUZpZWxkKTogYXJnIGlzIFJlZ2V4UmVwbGFjZUFyZ3MgPT5cbiAgISEoXG4gICAgaXNRdWVyeU9iamVjdChhcmcpICYmXG4gICAgY2hlY2tQcm9wZXJ0eShhcmcsICd0ZXh0JywgaXNUZXh0QXJnKSAmJlxuICAgIGNoZWNrUHJvcGVydHkoYXJnLCAncmVnZXgnLCBpc1RleHRBcmcpICYmXG4gICAgY2hlY2tQcm9wZXJ0eShhcmcsICdyZXBsYWNlbWVudCcsIGlzVGV4dEFyZylcbiAgKTtcblxuZXhwb3J0IGNvbnN0IGlzQ2VpbEZsb29yQXJnID0gKGFyZzogUXVlcnlGaWVsZCk6IGFyZyBpcyBDZWlsRmxvb3JBcmcgPT5cbiAgISEoaXNRdWVyeU9iamVjdChhcmcpICYmIGNoZWNrUHJvcGVydHkoYXJnLCAndmFsJywgaXNOdW1BcmcpKSAmJlxuICAoY2hlY2tQcm9wZXJ0eShhcmcsICdzaWduaWZpY2FuY2UnKSA/IGlzTnVtQXJnKGFyZy5zaWduaWZpY2FuY2UpIDogdHJ1ZSk7XG5cbmV4cG9ydCBjb25zdCBpc01vZEFyZyA9IChhcmc6IFF1ZXJ5RmllbGQpOiBhcmcgaXMgTW9kQXJnID0+XG4gICEhKFxuICAgIGlzUXVlcnlPYmplY3QoYXJnKSAmJlxuICAgIGNoZWNrUHJvcGVydHkoYXJnLCAndmFsJywgaXNOdW1BcmcpICYmXG4gICAgY2hlY2tQcm9wZXJ0eShhcmcsICdkaXZpc29yJywgaXNOdW1BcmcpXG4gICk7XG5cbmV4cG9ydCBjb25zdCBpc1Bvd2VyQXJnID0gKGFyZzogUXVlcnlGaWVsZCk6IGFyZyBpcyBQb3dlckFyZyA9PlxuICAhIShcbiAgICBpc1F1ZXJ5T2JqZWN0KGFyZykgJiZcbiAgICBjaGVja1Byb3BlcnR5KGFyZywgJ2Jhc2UnLCBpc051bUFyZykgJiZcbiAgICBjaGVja1Byb3BlcnR5KGFyZywgJ3Bvd2VyJywgaXNOdW1BcmcpXG4gICk7XG5cbmV4cG9ydCBjb25zdCBpc1JvdW5kQXJnID0gKGFyZzogUXVlcnlGaWVsZCk6IGFyZyBpcyBSb3VuZEFyZyA9PlxuICAhIShcbiAgICBpc1F1ZXJ5T2JqZWN0KGFyZykgJiZcbiAgICBjaGVja1Byb3BlcnR5KGFyZywgJ3ZhbCcsIGlzTnVtQXJnKSAmJlxuICAgIGNoZWNrUHJvcGVydHkoYXJnLCAncHJlY2lzaW9uJywgaXNOdW1BcmcpXG4gICk7XG5cbmV4cG9ydCBjb25zdCBpc0xvZ0FyZyA9IChhcmc6IFF1ZXJ5RmllbGQpOiBhcmcgaXMgTG9nQXJnID0+XG4gICEhKGlzUXVlcnlPYmplY3QoYXJnKSAmJlxuICBjaGVja1Byb3BlcnR5KGFyZywgJ251bScpICYmXG4gIGNoZWNrUHJvcGVydHkoYXJnLCAnYmFzZScpXG4gICAgPyBpc051bUFyZyhhcmcuYmFzZSlcbiAgICA6IHRydWUpO1xuXG5leHBvcnQgY29uc3QgaXNGdW5jID0gKGFyZzogUXVlcnlGaWVsZCB8ICgoKSA9PiBzdHJpbmcpKTogYXJnIGlzICgpID0+IHN0cmluZyA9PlxuICAhIShhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgYXJnKCkgPT09ICdzdHJpbmcnKTtcblxuZXhwb3J0IGNvbnN0IGhhc0RhdGVBcmcgPSAoYXJnOiBRdWVyeUZpZWxkKTogYXJnIGlzIFF1ZXJ5T2JqZWN0ID0+XG4gICEhKGlzUXVlcnlPYmplY3QoYXJnKSAmJiBjaGVja1Byb3BlcnR5KGFyZywgJ2RhdGUnLCBpc1RleHRBcmcpKTtcblxuZXhwb3J0IGNvbnN0IGhhc0RvdWJsZURhdGVBcmcgPSAoYXJnOiBRdWVyeUZpZWxkKTogYXJnIGlzIERvdWJsZURhdGVPYmogPT5cbiAgISEoXG4gICAgaXNRdWVyeU9iamVjdChhcmcpICYmXG4gICAgY2hlY2tQcm9wZXJ0eShhcmcsICdkYXRlMScsIGlzVGV4dEFyZykgJiZcbiAgICBjaGVja1Byb3BlcnR5KGFyZywgJ2RhdGUyJywgaXNUZXh0QXJnKVxuICApO1xuXG5leHBvcnQgY29uc3QgaXNEYXRlQWRkQXJnID0gKGFyZzogUXVlcnlGaWVsZCk6IGFyZyBpcyBBZGRBcmcgPT5cbiAgISEoXG4gICAgaGFzRGF0ZUFyZyhhcmcpICYmXG4gICAgY2hlY2tQcm9wZXJ0eShhcmcsICdjb3VudCcsIGlzTnVtQXJnKSAmJlxuICAgIGNoZWNrUHJvcGVydHkoYXJnLCAndW5pdHMnLCBpc1N0cmluZylcbiAgKTtcblxuZXhwb3J0IGNvbnN0IGlzRGF0ZURpZmZBcmcgPSAoYXJnOiBRdWVyeUZpZWxkKTogYXJnIGlzIERpZmZBcmcgPT5cbiAgISEoaGFzRG91YmxlRGF0ZUFyZyhhcmcpICYmIGNoZWNrUHJvcGVydHkoYXJnLCAndW5pdHMnLCBpc1N0cmluZykpO1xuXG5leHBvcnQgY29uc3QgaXNEYXRlU2FtZUFyZyA9IChhcmc6IFF1ZXJ5RmllbGQpOiBhcmcgaXMgRGlmZkFyZyA9PlxuICAhIShoYXNEb3VibGVEYXRlQXJnKGFyZykgJiYgY2hlY2tQcm9wZXJ0eShhcmcsICd1bml0cycpXG4gICAgPyBpc1N0cmluZyhhcmcpXG4gICAgOiB0cnVlKTtcblxuZXhwb3J0IGNvbnN0IGlzRGF0ZUZvcm1hdEFyZyA9IChhcmc6IFF1ZXJ5RmllbGQpOiBhcmcgaXMgRm9ybWF0QXJnID0+XG4gICEhKGhhc0RhdGVBcmcoYXJnKSAmJiBjaGVja1Byb3BlcnR5KGFyZywgJ2Zvcm1hdCcsIGlzVGV4dEFyZykpO1xuXG5leHBvcnQgY29uc3QgaXNEYXRlUGFyc2VBcmcgPSAoYXJnOiBRdWVyeUZpZWxkKTogYXJnIGlzIFBhcnNlQXJnID0+XG4gICEhKGhhc0RhdGVBcmcoYXJnKSAmJlxuICAoY2hlY2tQcm9wZXJ0eShhcmcsICdmb3JtYXQnKSA/IGlzVGV4dEFyZyhhcmcuZm9ybWF0KSA6IHRydWUpICYmXG4gIGNoZWNrUHJvcGVydHkoYXJnLCAnbG9jYWxlJylcbiAgICA/IGlzVGV4dEFyZyhhcmcubG9jYWxlKVxuICAgIDogdHJ1ZSk7XG5cbmV4cG9ydCBjb25zdCBpc0RhdGVXZWVrQXJnID0gKGFyZzogUXVlcnlGaWVsZCk6IGFyZyBpcyBXZWVrQXJnID0+XG4gICEhKGhhc0RhdGVBcmcoYXJnKSAmJiBjaGVja1Byb3BlcnR5KGFyZywgJ3N0YXJ0JylcbiAgICA/IGlzVGV4dEFyZyhhcmcuZm9ybWF0KVxuICAgIDogdHJ1ZSk7XG5cbmV4cG9ydCBjb25zdCBpc0RhdGVXb3JrRGF5QXJnID0gKGFyZzogUXVlcnlGaWVsZCk6IGFyZyBpcyBXb3JrRGF5QXJnID0+XG4gICEhKGhhc0RhdGVBcmcoYXJnKSAmJiBjaGVja1Byb3BlcnR5KGFyZywgJ2hvbGlkYXlzJylcbiAgICA/IGlzVGV4dEFyZ0FycmF5KGFyZy5mb3JtYXQpXG4gICAgOiB0cnVlKTtcblxuZXhwb3J0IGNvbnN0IGlzRGF0ZVdvcmtEYXlEaWZmQXJnID0gKGFyZzogUXVlcnlGaWVsZCk6IGFyZyBpcyBXb3JrRGF5RGlmZkFyZyA9PlxuICAhIShoYXNEYXRlQXJnKGFyZykgJiZcbiAgY2hlY2tQcm9wZXJ0eShhcmcsICdudW1EYXlzJywgaXNOdW1BcmcpICYmXG4gIGNoZWNrUHJvcGVydHkoYXJnLCAnaG9saWRheXMnKVxuICAgID8gaXNUZXh0QXJnQXJyYXkoYXJnLmZvcm1hdClcbiAgICA6IHRydWUpO1xuIiwiaW1wb3J0IHtcbiAgQXJyYXlFeHByZXNzaW9uRnVuY3MsXG4gIEV4cHJlc3Npb25GdW5jcyxcbiAgSWZBcmdzLFxuICBJZkZ1bmN0aW9uLFxuICBRdWVyeUZpZWxkLFxuICBTd2l0Y2hGdW5jdGlvbixcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBoYW5kbGVFcnJvciwgcXVlcnlCdWlsZGVyIH0gZnJvbSAnLi9xdWVyeUJ1aWxkZXInO1xuaW1wb3J0IHtcbiAgaXNRdWVyeU9iamVjdEFycmF5LFxuICBpc1F1ZXJ5T2JqZWN0LFxuICBpc0lmQXJncyxcbiAgaXNTd2l0Y2hBcmdzLFxufSBmcm9tICcuL3R5cGVDaGVja2Vycyc7XG5cbmV4cG9ydCBjb25zdCBhcnJheUFyZ0Z1bmNzOiBBcnJheUV4cHJlc3Npb25GdW5jcyA9IHtcbiAgJGFuZDogKGFyZ3M6IFF1ZXJ5RmllbGRbXSk6IHN0cmluZyA9PiBgQU5EKCR7cXVlcnlCdWlsZGVyKGFyZ3MpfSlgLFxuICAkb3I6IChhcmdzOiBRdWVyeUZpZWxkW10pOiBzdHJpbmcgPT4gYE9SKCR7cXVlcnlCdWlsZGVyKGFyZ3MpfSlgLFxuICAkeG9yOiAoYXJnczogUXVlcnlGaWVsZFtdKTogc3RyaW5nID0+IGBYT1IoJHtxdWVyeUJ1aWxkZXIoYXJncyl9KWAsXG59O1xuXG5leHBvcnQgY29uc3QgZXhwcmVzc2lvbkZ1bmNzOiBFeHByZXNzaW9uRnVuY3MgPSB7XG4gICRub3Q6IChleHByZXNzaW9uOiBRdWVyeUZpZWxkKTogc3RyaW5nID0+IGBOT1QoJHtxdWVyeUJ1aWxkZXIoZXhwcmVzc2lvbil9KWAsXG4gICRpc0Vycm9yOiAoZXhwcmVzc2lvbjogUXVlcnlGaWVsZCk6IHN0cmluZyA9PlxuICAgIGBJU0VSUk9SKCR7cXVlcnlCdWlsZGVyKGV4cHJlc3Npb24pfSlgLFxufTtcblxuZXhwb3J0IGNvbnN0IGlmRnVuYzogSWZGdW5jdGlvbiA9IHtcbiAgJGlmOiAoeyBleHByZXNzaW9uLCBpZlRydWUsIGlmRmFsc2UgfTogSWZBcmdzKTogc3RyaW5nID0+XG4gICAgYElGKCR7cXVlcnlCdWlsZGVyKGV4cHJlc3Npb24pfSwgJHtxdWVyeUJ1aWxkZXIoaWZUcnVlKX0sICR7cXVlcnlCdWlsZGVyKFxuICAgICAgaWZGYWxzZSxcbiAgICApfSlgLFxufTtcblxuZXhwb3J0IGNvbnN0IHN3aXRjaEZ1bmM6IFN3aXRjaEZ1bmN0aW9uID0ge1xuICAkc3dpdGNoOiAoeyBleHByZXNzaW9uLCBjYXNlcywgZGVmYXVsdFZhbCB9KTogc3RyaW5nID0+XG4gICAgYFNXSVRDSCgke3F1ZXJ5QnVpbGRlcihleHByZXNzaW9uKX0sICR7Y2FzZXNcbiAgICAgIC5zbGljZSgwKVxuICAgICAgLm1hcChcbiAgICAgICAgKHsgc3dpdGNoQ2FzZSwgdmFsIH0pID0+XG4gICAgICAgICAgYCR7cXVlcnlCdWlsZGVyKHN3aXRjaENhc2UpfSwgJHtxdWVyeUJ1aWxkZXIodmFsKX1gLFxuICAgICAgKVxuICAgICAgLmpvaW4oJywgJyl9LCAke3F1ZXJ5QnVpbGRlcihkZWZhdWx0VmFsKX0pYCxcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dpY2FsRnVuY3Rpb25zID0ge1xuICAuLi5hcnJheUFyZ0Z1bmNzLFxuICAuLi5leHByZXNzaW9uRnVuY3MsXG4gIC4uLmlmRnVuYyxcbiAgLi4uc3dpdGNoRnVuYyxcbn07XG5cbmV4cG9ydCBjb25zdCBoYW5kbGVMb2dpY2FsRnVuYyA9IChrZXk6IHN0cmluZywgdmFsOiBRdWVyeUZpZWxkKTogc3RyaW5nID0+IHtcbiAgaWYgKGtleSBpbiBhcnJheUFyZ0Z1bmNzICYmIGlzUXVlcnlPYmplY3RBcnJheSh2YWwpKSB7XG4gICAgcmV0dXJuIGFycmF5QXJnRnVuY3Nba2V5XSh2YWwpO1xuICB9IGVsc2UgaWYgKGtleSBpbiBleHByZXNzaW9uRnVuY3MgJiYgaXNRdWVyeU9iamVjdCh2YWwpKSB7XG4gICAgcmV0dXJuIGV4cHJlc3Npb25GdW5jc1trZXldKHZhbCk7XG4gIH0gZWxzZSBpZiAoa2V5IGluIGlmRnVuYyAmJiBpc0lmQXJncyh2YWwpKSB7XG4gICAgcmV0dXJuIGlmRnVuY1trZXldKHZhbCk7XG4gIH0gZWxzZSBpZiAoa2V5IGluIHN3aXRjaEZ1bmMgJiYgaXNTd2l0Y2hBcmdzKHZhbCkpIHtcbiAgICByZXR1cm4gc3dpdGNoRnVuY1trZXldKHZhbCk7XG4gIH1cbiAgdGhyb3cgaGFuZGxlRXJyb3IoeyBrZXksIHZhbCB9KTtcbn07XG4iLCJpbXBvcnQgeyBDb21wYXJpc29uT2JqZWN0IH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBxdWVyeUJ1aWxkZXIgfSBmcm9tICcuL3F1ZXJ5QnVpbGRlcic7XG5cbmV4cG9ydCBjb25zdCBvcGVyYXRvcnMgPSBbXG4gIHsgJGVxOiAnPScgfSxcbiAgeyAkbmVxOiAnIT0nIH0sXG4gIHsgJGd0OiAnPicgfSxcbiAgeyAkZ3RlOiAnPj0nIH0sXG4gIHsgJGx0OiAnPCcgfSxcbiAgeyAkbHRlOiAnPD0nIH0sXG4gIHsgJGFkZDogJysnIH0sXG4gIHsgJHN1YjogJy0nIH0sXG4gIHsgJG11bHRpOiAnKicgfSxcbiAgeyAkZGl2OiAnLycgfSxcbl07XG5cbmV4cG9ydCBjb25zdCBidWlsZEV4cHJlc3Npb24gPSAob2JqOiBDb21wYXJpc29uT2JqZWN0LCBvcDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkob2JqKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3Npbmcgb3IgSW52YWxpZCBDb21wYXJpc29uIE9iamVjdCcpO1xuICBpZiAoXG4gICAgdHlwZW9mIG9wICE9PSAnc3RyaW5nJyAmJlxuICAgICFvcGVyYXRvcnMubWFwKChvKSA9PiBPYmplY3QudmFsdWVzKG8pWzBdKS5pbmNsdWRlcyhvcClcbiAgKVxuICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBvciBJbnZhbGlkIENvbXBhcmlzb24gT3BlcmF0b3InKTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gIGNvbnN0IGV4cHJlc3Npb25NYXBwZXIgPSAoazogc3RyaW5nLCBpOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCB2YWwgPSBxdWVyeUJ1aWxkZXIob2JqW2tdKTtcbiAgICByZXR1cm4gYHske2t9fSAke29wfSAke3ZhbH0ke2kgPCBrZXlzLmxlbmd0aCAtIDEgPyAnLCAnIDogJyd9YDtcbiAgfTtcbiAgY29uc3QgZXhwID0gYCR7a2V5cy5tYXAoZXhwcmVzc2lvbk1hcHBlcikuam9pbignJyl9YDtcbiAgcmV0dXJuIGtleXMubGVuZ3RoID4gMSA/IGBBTkQoJHtleHB9KWAgOiBleHA7XG59O1xuIiwiaW1wb3J0IHsgTG9naWNhbE9wZXJhdG9ycyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgYnVpbGRFeHByZXNzaW9uIH0gZnJvbSAnLi9idWlsZEV4cHJlc3Npb24nO1xuXG5leHBvcnQgY29uc3QgbG9naWNhbE9wZXJhdG9yczogTG9naWNhbE9wZXJhdG9ycyA9IHtcbiAgJGd0OiAodmFsKSA9PiB7XG4gICAgcmV0dXJuIGJ1aWxkRXhwcmVzc2lvbih2YWwsICc+Jyk7XG4gIH0sXG4gICRsdDogKHZhbCkgPT4ge1xuICAgIHJldHVybiBidWlsZEV4cHJlc3Npb24odmFsLCAnPCcpO1xuICB9LFxuICAkZ3RlOiAodmFsKSA9PiB7XG4gICAgcmV0dXJuIGJ1aWxkRXhwcmVzc2lvbih2YWwsICc+PScpO1xuICB9LFxuICAkbHRlOiAodmFsKSA9PiB7XG4gICAgcmV0dXJuIGJ1aWxkRXhwcmVzc2lvbih2YWwsICc8PScpO1xuICB9LFxuICAkZXE6ICh2YWwpID0+IHtcbiAgICByZXR1cm4gYnVpbGRFeHByZXNzaW9uKHZhbCwgJz0nKTtcbiAgfSxcbiAgJG5lcTogKHZhbCkgPT4ge1xuICAgIHJldHVybiBidWlsZEV4cHJlc3Npb24odmFsLCAnIT0nKTtcbiAgfSxcbn07XG4iLCJpbXBvcnQge1xuICBRdWVyeUZpZWxkLFxuICBUZXh0Q29uY2F0RnVuY3Rpb25zLFxuICBUZXh0RG91YmxlQXJndW1lbnRGdW5jdGlvbnMsXG4gIFRleHRNaWRGdW5jdGlvbixcbiAgVGV4dFJlcGxhY2VGdW5jdGlvbnMsXG4gIFRleHRTZWFyY2hGdW5jdGlvbnMsXG4gIFRleHRTaW5nbGVBcmd1bWVudEZ1bmN0aW9ucyxcbiAgVGV4dFN1YkZ1bmN0aW9ucyxcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBoYW5kbGVFcnJvciwgcXVlcnlCdWlsZGVyIH0gZnJvbSAnLi9xdWVyeUJ1aWxkZXInO1xuaW1wb3J0IHtcbiAgaXNUZXh0U2VhcmNoQXJncyxcbiAgaXNUZXh0QXJnQXJyYXksXG4gIGlzVGV4dE1pZEFyZ3MsXG4gIGlzVGV4dFJlcGxhY2VBcmdzLFxuICBpc1RleHRTdWJBcmdzLFxuICBpc1RleHREb3VibGVBcmcsXG4gIGlzU3RyaW5nT3JGaWVsZE5hbWVPYmplY3QsXG4gIGlzUXVlcnlPYmplY3QsXG59IGZyb20gJy4vdHlwZUNoZWNrZXJzJztcblxuZXhwb3J0IGNvbnN0IHRleHRTZWFyY2hGdW5jdGlvbnM6IFRleHRTZWFyY2hGdW5jdGlvbnMgPSB7XG4gICRmaW5kOiAoeyBzdHJpbmdUb0ZpbmQsIHdoZXJlVG9TZWFyY2gsIGluZGV4IH0pID0+XG4gICAgYEZJTkQoJHtxdWVyeUJ1aWxkZXIoc3RyaW5nVG9GaW5kKX0sICR7cXVlcnlCdWlsZGVyKHdoZXJlVG9TZWFyY2gpfSwgJHtcbiAgICAgIGluZGV4ID8/IDBcbiAgICB9KWAsXG4gICRzZWFyY2g6ICh7IHN0cmluZ1RvRmluZCwgd2hlcmVUb1NlYXJjaCwgaW5kZXggfSkgPT5cbiAgICBgU0VBUkNIKCR7cXVlcnlCdWlsZGVyKHN0cmluZ1RvRmluZCl9LCAke3F1ZXJ5QnVpbGRlcih3aGVyZVRvU2VhcmNoKX0sICR7XG4gICAgICBpbmRleCA/PyAwXG4gICAgfSlgLFxufTtcblxuZXhwb3J0IGNvbnN0IHRleHRSZXBsYWNlbWVudEZ1bmN0aW9uOiBUZXh0UmVwbGFjZUZ1bmN0aW9ucyA9IHtcbiAgJHJlcGxhY2U6ICh7IHRleHQsIHN0YXJ0Q2hhciwgbnVtQ2hhcnMsIHJlcGxhY2VtZW50IH0pID0+XG4gICAgYFJFUExBQ0UoJHtxdWVyeUJ1aWxkZXIodGV4dCl9LCAke3F1ZXJ5QnVpbGRlcihzdGFydENoYXIpfSwgJHtxdWVyeUJ1aWxkZXIoXG4gICAgICBudW1DaGFycyxcbiAgICApfSwgJHtxdWVyeUJ1aWxkZXIocmVwbGFjZW1lbnQpfSlgLFxufTtcblxuZXhwb3J0IGNvbnN0IHRleHRTdWJzdGl0dXRlRnVuY3Rpb246IFRleHRTdWJGdW5jdGlvbnMgPSB7XG4gICRzdWJzdGl0dXRlOiAoeyB0ZXh0LCBvbGRUZXh0LCBuZXdUZXh0LCBpbmRleCB9KSA9PlxuICAgIGBTVUJTVElUVVRFKCR7cXVlcnlCdWlsZGVyKHRleHQpfSwgJHtxdWVyeUJ1aWxkZXIob2xkVGV4dCl9LCAke3F1ZXJ5QnVpbGRlcihcbiAgICAgIG5ld1RleHQsXG4gICAgKX0sICR7aW5kZXggPz8gMH0pYCxcbn07XG5cbmV4cG9ydCBjb25zdCB0ZXh0Q29uY2F0RnVuY3Rpb246IFRleHRDb25jYXRGdW5jdGlvbnMgPSB7XG4gICRjb25jYXRlbmF0ZTogKGFyZ3MpID0+XG4gICAgYENPTkNBVEVOQVRFKCR7YXJncy5tYXAoKGEpID0+IHF1ZXJ5QnVpbGRlcihhKSkuam9pbignLCAnKX0pYCxcbn07XG5cbmV4cG9ydCBjb25zdCB0ZXh0RG91YmxlQXJndW1lbnRGdW5jdGlvbnM6IFRleHREb3VibGVBcmd1bWVudEZ1bmN0aW9ucyA9IHtcbiAgJGxlZnQ6ICh7IHRleHQsIG51bSB9KSA9PiBgTEVGVCgke3F1ZXJ5QnVpbGRlcih0ZXh0KX0sICR7cXVlcnlCdWlsZGVyKG51bSl9KWAsXG4gICRyaWdodDogKHsgdGV4dCwgbnVtIH0pID0+XG4gICAgYFJJR0hUKCR7cXVlcnlCdWlsZGVyKHRleHQpfSwgJHtxdWVyeUJ1aWxkZXIobnVtKX0pYCxcbiAgJHJlcHQ6ICh7IHRleHQsIG51bSB9KSA9PiBgUkVQVCgke3F1ZXJ5QnVpbGRlcih0ZXh0KX0sICR7cXVlcnlCdWlsZGVyKG51bSl9KWAsXG59O1xuXG5leHBvcnQgY29uc3QgdGV4dE1pZEZ1bmN0aW9uOiBUZXh0TWlkRnVuY3Rpb24gPSB7XG4gICRtaWQ6ICh7IHRleHQsIHdoZXJlVG9TdGFydCwgbnVtIH0pID0+XG4gICAgYE1JRCgke3F1ZXJ5QnVpbGRlcih0ZXh0KX0sICR7cXVlcnlCdWlsZGVyKHdoZXJlVG9TdGFydCl9LCAke3F1ZXJ5QnVpbGRlcihcbiAgICAgIG51bSxcbiAgICApfSlgLFxufTtcblxuZXhwb3J0IGNvbnN0IHRleHRTaW5nbGVBcmd1bWVudEZ1bmN0aW9uczogVGV4dFNpbmdsZUFyZ3VtZW50RnVuY3Rpb25zID0ge1xuICAkZW5jb2RlVXJsQ29tcG9uZW50OiAoc3RyKSA9PiBgRU5DT0RFX1VSTF9DT01QT05FTlQoJHtxdWVyeUJ1aWxkZXIoc3RyKX0pYCxcbiAgJGxlbjogKHN0cikgPT4gYExFTigke3F1ZXJ5QnVpbGRlcihzdHIpfSlgLFxuICAkbG93ZXI6IChzdHIpID0+IGBMT1dFUigke3F1ZXJ5QnVpbGRlcihzdHIpfSlgLFxuICAkdHJpbTogKHN0cikgPT4gYFRSSU0oJHtxdWVyeUJ1aWxkZXIoc3RyKX0pYCxcbiAgJHVwcGVyOiAoc3RyKSA9PiBgVVBQRVIoJHtxdWVyeUJ1aWxkZXIoc3RyKX0pYCxcbn07XG5cbmV4cG9ydCBjb25zdCB0ZXh0RnVuY3Rpb25zID0ge1xuICAuLi50ZXh0U2VhcmNoRnVuY3Rpb25zLFxuICAuLi50ZXh0Q29uY2F0RnVuY3Rpb24sXG4gIC4uLnRleHRNaWRGdW5jdGlvbixcbiAgLi4udGV4dFJlcGxhY2VtZW50RnVuY3Rpb24sXG4gIC4uLnRleHRTdWJzdGl0dXRlRnVuY3Rpb24sXG4gIC4uLnRleHREb3VibGVBcmd1bWVudEZ1bmN0aW9ucyxcbiAgLi4udGV4dFNpbmdsZUFyZ3VtZW50RnVuY3Rpb25zLFxufTtcblxuZXhwb3J0IGNvbnN0IGhhbmRsZVRleHRGdW5jID0gKGtleTogc3RyaW5nLCB2YWw6IFF1ZXJ5RmllbGQpOiBzdHJpbmcgPT4ge1xuICBpZiAoa2V5IGluIHRleHRTZWFyY2hGdW5jdGlvbnMgJiYgaXNUZXh0U2VhcmNoQXJncyh2YWwpKSB7XG4gICAgcmV0dXJuIHRleHRTZWFyY2hGdW5jdGlvbnNba2V5XSh2YWwpO1xuICB9IGVsc2UgaWYgKGtleSBpbiB0ZXh0Q29uY2F0RnVuY3Rpb24gJiYgaXNUZXh0QXJnQXJyYXkodmFsKSkge1xuICAgIHJldHVybiB0ZXh0Q29uY2F0RnVuY3Rpb25ba2V5XSh2YWwpO1xuICB9IGVsc2UgaWYgKGtleSBpbiB0ZXh0TWlkRnVuY3Rpb24gJiYgaXNUZXh0TWlkQXJncyh2YWwpKSB7XG4gICAgcmV0dXJuIHRleHRNaWRGdW5jdGlvbltrZXldKHZhbCk7XG4gIH0gZWxzZSBpZiAoa2V5IGluIHRleHRSZXBsYWNlbWVudEZ1bmN0aW9uICYmIGlzVGV4dFJlcGxhY2VBcmdzKHZhbCkpIHtcbiAgICByZXR1cm4gdGV4dFJlcGxhY2VtZW50RnVuY3Rpb25ba2V5XSh2YWwpO1xuICB9IGVsc2UgaWYgKGtleSBpbiB0ZXh0U3Vic3RpdHV0ZUZ1bmN0aW9uICYmIGlzVGV4dFN1YkFyZ3ModmFsKSkge1xuICAgIHJldHVybiB0ZXh0U3Vic3RpdHV0ZUZ1bmN0aW9uW2tleV0odmFsKTtcbiAgfSBlbHNlIGlmIChrZXkgaW4gdGV4dERvdWJsZUFyZ3VtZW50RnVuY3Rpb25zICYmIGlzVGV4dERvdWJsZUFyZyh2YWwpKSB7XG4gICAgcmV0dXJuIHRleHREb3VibGVBcmd1bWVudEZ1bmN0aW9uc1trZXldKHZhbCk7XG4gIH0gZWxzZSBpZiAoXG4gICAga2V5IGluIHRleHRTaW5nbGVBcmd1bWVudEZ1bmN0aW9ucyAmJlxuICAgIChpc1N0cmluZ09yRmllbGROYW1lT2JqZWN0KHZhbCkgfHwgaXNRdWVyeU9iamVjdCh2YWwpKVxuICApIHtcbiAgICByZXR1cm4gdGV4dFNpbmdsZUFyZ3VtZW50RnVuY3Rpb25zW2tleV0odmFsKTtcbiAgfVxuICB0aHJvdyBoYW5kbGVFcnJvcih7IGtleSwgdmFsIH0pO1xufTtcbiIsImltcG9ydCB7IHF1ZXJ5QnVpbGRlciB9IGZyb20gJy4vcXVlcnlCdWlsZGVyJztcbmltcG9ydCB7IFJlZ2V4RnVuY3Rpb25zLCBSZWdleFJlcGxhY2VGdW5jdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgcmVnZXhGdW5jdGlvbnM6IFJlZ2V4RnVuY3Rpb25zID0ge1xuICAkcmVnZXhNYXRjaDogKHsgdGV4dCwgcmVnZXggfSkgPT5cbiAgICBgUkVHRVhfTUFUQ0goJHtxdWVyeUJ1aWxkZXIodGV4dCl9LCAke3F1ZXJ5QnVpbGRlcihyZWdleCl9KWAsXG4gICRyZWdleEV4dHJhY3Q6ICh7IHRleHQsIHJlZ2V4IH0pID0+XG4gICAgYFJFR0VYX0VYVFJBQ1QoJHtxdWVyeUJ1aWxkZXIodGV4dCl9LCAke3F1ZXJ5QnVpbGRlcihyZWdleCl9KWAsXG59O1xuXG5leHBvcnQgY29uc3QgcmVnZXhSZXBsYWNlRnVuY3Rpb246IFJlZ2V4UmVwbGFjZUZ1bmN0aW9uID0ge1xuICAkcmVnZXhSZXBsYWNlOiAoeyB0ZXh0LCByZWdleCwgcmVwbGFjZW1lbnQgfSkgPT5cbiAgICBgUkVHRVhfUkVQTEFDRSgke3F1ZXJ5QnVpbGRlcih0ZXh0KX0sICR7cXVlcnlCdWlsZGVyKFxuICAgICAgcmVnZXgsXG4gICAgKX0sICR7cXVlcnlCdWlsZGVyKHJlcGxhY2VtZW50KX0pYCxcbn07XG4iLCJpbXBvcnQgeyBidWlsZEV4cHJlc3Npb24gfSBmcm9tICcuL2J1aWxkRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBoYW5kbGVFcnJvciwgcXVlcnlCdWlsZGVyIH0gZnJvbSAnLi9xdWVyeUJ1aWxkZXInO1xuaW1wb3J0IHtcbiAgaXNOdW1BcmdBcnJheSxcbiAgaXNOdW1BcmcsXG4gIGlzQ2VpbEZsb29yQXJnLFxuICBpc0xvZ0FyZyxcbiAgaXNNb2RBcmcsXG4gIGlzUG93ZXJBcmcsXG4gIGlzUm91bmRBcmcsXG59IGZyb20gJy4vdHlwZUNoZWNrZXJzJztcbmltcG9ydCB7IFF1ZXJ5RmllbGQgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7XG4gIEFycmF5QXJnTnVtRnVuY3Rpb25zLFxuICBDZWlsRmxvb3JOdW1GdW5jdGlvbnMsXG4gIExvZ051bUZ1bmN0aW9uLFxuICBNb2ROdW1GdW5jdGlvbixcbiAgTnVtZXJpY09wZXJhdG9ycyxcbiAgUG93ZXJOdW1GdW5jdGlvbixcbiAgUm91bmROdW1GdW5jdGlvbnMsXG4gIFNpbmdsZUFyZ051bUZ1bmN0aW9ucyxcbn0gZnJvbSAnLi90eXBlcy9xdWVyeUJ1aWxkZXIvbnVtZXJpYyc7XG5cbmV4cG9ydCBjb25zdCBzaW5nbGVBcmdOdW1GdW5jdGlvbnM6IFNpbmdsZUFyZ051bUZ1bmN0aW9ucyA9IHtcbiAgJGFiczogKGFyZykgPT4gYEFCUygke3F1ZXJ5QnVpbGRlcihhcmcpfSlgLFxuICAkZXZlbjogKGFyZykgPT4gYEVWRU4oJHtxdWVyeUJ1aWxkZXIoYXJnKX0pYCxcbiAgJGV4cDogKGFyZykgPT4gYEVYUCgke3F1ZXJ5QnVpbGRlcihhcmcpfSlgLFxuICAkaW50OiAoYXJnKSA9PiBgSU5UKCR7cXVlcnlCdWlsZGVyKGFyZyl9KWAsXG4gICRvZGQ6IChhcmcpID0+IGBPREQoJHtxdWVyeUJ1aWxkZXIoYXJnKX0pYCxcbiAgJHNxcnQ6IChhcmcpID0+IGBTUVJUKCR7cXVlcnlCdWlsZGVyKGFyZyl9KWAsXG59O1xuXG5leHBvcnQgY29uc3QgYXJyYXlBcmdOdW1GdW5jdGlvbnM6IEFycmF5QXJnTnVtRnVuY3Rpb25zID0ge1xuICAkYXZnOiAoYXJnKSA9PiBgQVZFUkFHRSgke2FyZy5tYXAoKGEpID0+IHF1ZXJ5QnVpbGRlcihhKSkuam9pbignLCAnKX0pYCxcbiAgJGNvdW50OiAoYXJnKSA9PiBgQ09VTlQoJHthcmcubWFwKChhKSA9PiBxdWVyeUJ1aWxkZXIoYSkpLmpvaW4oJywgJyl9KWAsXG4gICRjb3VudGE6IChhcmcpID0+IGBDT1VOVEEoJHthcmcubWFwKChhKSA9PiBxdWVyeUJ1aWxkZXIoYSkpLmpvaW4oJywgJyl9KWAsXG4gICRjb3VudEFsbDogKGFyZykgPT4gYENPVU5UQUxMKCR7YXJnLm1hcCgoYSkgPT4gcXVlcnlCdWlsZGVyKGEpKS5qb2luKCcsICcpfSlgLFxuICAkbWF4OiAoYXJnKSA9PiBgTUFYKCR7YXJnLm1hcCgoYSkgPT4gcXVlcnlCdWlsZGVyKGEpKS5qb2luKCcsICcpfSlgLFxuICAkbWluOiAoYXJnKSA9PiBgTUlOKCR7YXJnLm1hcCgoYSkgPT4gcXVlcnlCdWlsZGVyKGEpKS5qb2luKCcsICcpfSlgLFxuICAkc3VtOiAoYXJnKSA9PiBgU1VNKCR7YXJnLm1hcCgoYSkgPT4gcXVlcnlCdWlsZGVyKGEpKS5qb2luKCcsICcpfSlgLFxufTtcblxuZXhwb3J0IGNvbnN0IGNlaWxGbG9vck51bUZ1bmN0aW9uczogQ2VpbEZsb29yTnVtRnVuY3Rpb25zID0ge1xuICAkY2VpbDogKHsgdmFsLCBzaWduaWZpY2FuY2UgfSkgPT5cbiAgICBgQ0VJTElORygke3F1ZXJ5QnVpbGRlcih2YWwpfSwgJHtxdWVyeUJ1aWxkZXIoc2lnbmlmaWNhbmNlID8/IDEpfSlgLFxuICAkZmxvb3I6ICh7IHZhbCwgc2lnbmlmaWNhbmNlIH0pID0+XG4gICAgYEZMT09SKCR7cXVlcnlCdWlsZGVyKHZhbCl9LCAke3F1ZXJ5QnVpbGRlcihzaWduaWZpY2FuY2UgPz8gMSl9KWAsXG59O1xuXG5leHBvcnQgY29uc3QgbG9nTnVtRnVuY3Rpb246IExvZ051bUZ1bmN0aW9uID0ge1xuICAkbG9nOiAoeyBudW0sIGJhc2UgfSkgPT5cbiAgICBgTE9HKCR7cXVlcnlCdWlsZGVyKG51bSl9LCAke3F1ZXJ5QnVpbGRlcihiYXNlID8/IDEwKX0pYCxcbn07XG5cbmV4cG9ydCBjb25zdCBtb2ROdW1GdW5jdGlvbjogTW9kTnVtRnVuY3Rpb24gPSB7XG4gICRtb2Q6ICh7IHZhbCwgZGl2aXNvciB9KSA9PlxuICAgIGBNT0QoJHtxdWVyeUJ1aWxkZXIodmFsKX0sICR7cXVlcnlCdWlsZGVyKGRpdmlzb3IpfSlgLFxufTtcblxuZXhwb3J0IGNvbnN0IHBvd2VyTnVtRnVuY3Rpb246IFBvd2VyTnVtRnVuY3Rpb24gPSB7XG4gICRwb3c6ICh7IGJhc2UsIHBvd2VyIH0pID0+XG4gICAgYFBPV0VSKCR7cXVlcnlCdWlsZGVyKGJhc2UpfSwgJHtxdWVyeUJ1aWxkZXIocG93ZXIpfSlgLFxufTtcblxuZXhwb3J0IGNvbnN0IHJvdW5kTnVtRnVuY3Rpb25zOiBSb3VuZE51bUZ1bmN0aW9ucyA9IHtcbiAgJHJvdW5kOiAoeyB2YWwsIHByZWNpc2lvbiB9KSA9PlxuICAgIGBST1VORCgke3F1ZXJ5QnVpbGRlcih2YWwpfSwgJHtxdWVyeUJ1aWxkZXIocHJlY2lzaW9uKX0pYCxcbiAgJHJvdW5kRG93bjogKHsgdmFsLCBwcmVjaXNpb24gfSkgPT5cbiAgICBgUk9VTkRET1dOKCR7cXVlcnlCdWlsZGVyKHZhbCl9LCAke3F1ZXJ5QnVpbGRlcihwcmVjaXNpb24pfSlgLFxuICAkcm91bmRVcDogKHsgdmFsLCBwcmVjaXNpb24gfSkgPT5cbiAgICBgUk9VTkRVUCgke3F1ZXJ5QnVpbGRlcih2YWwpfSwgJHtxdWVyeUJ1aWxkZXIocHJlY2lzaW9uKX0pYCxcbn07XG5cbmV4cG9ydCBjb25zdCBudW1lcmljYWxGdW5jdGlvbnMgPSB7XG4gIC4uLnNpbmdsZUFyZ051bUZ1bmN0aW9ucyxcbiAgLi4uYXJyYXlBcmdOdW1GdW5jdGlvbnMsXG4gIC4uLmNlaWxGbG9vck51bUZ1bmN0aW9ucyxcbiAgLi4ubG9nTnVtRnVuY3Rpb24sXG4gIC4uLm1vZE51bUZ1bmN0aW9uLFxuICAuLi5wb3dlck51bUZ1bmN0aW9uLFxuICAuLi5yb3VuZE51bUZ1bmN0aW9ucyxcbn07XG5cbmV4cG9ydCBjb25zdCBudW1lcmljT3BlcmF0b3JzOiBOdW1lcmljT3BlcmF0b3JzID0ge1xuICAkYWRkOiAoYXJnKSA9PiBidWlsZEV4cHJlc3Npb24oYXJnLCAnKycpLFxuICAkc3ViOiAoYXJnKSA9PiBidWlsZEV4cHJlc3Npb24oYXJnLCAnLScpLFxuICAkbXVsdGk6IChhcmcpID0+IGJ1aWxkRXhwcmVzc2lvbihhcmcsICcqJyksXG4gICRkaXY6IChhcmcpID0+IGJ1aWxkRXhwcmVzc2lvbihhcmcsICcvJyksXG59O1xuXG5leHBvcnQgY29uc3QgaGFuZGxlTnVtZXJpY2FsRnVuYyA9IChrZXk6IHN0cmluZywgdmFsOiBRdWVyeUZpZWxkKTogc3RyaW5nID0+IHtcbiAgaWYgKGtleSBpbiBhcnJheUFyZ051bUZ1bmN0aW9ucyAmJiBpc051bUFyZ0FycmF5KHZhbCkpIHtcbiAgICByZXR1cm4gYXJyYXlBcmdOdW1GdW5jdGlvbnNba2V5XSh2YWwpO1xuICB9IGVsc2UgaWYgKGtleSBpbiBzaW5nbGVBcmdOdW1GdW5jdGlvbnMgJiYgaXNOdW1BcmcodmFsKSkge1xuICAgIHJldHVybiBzaW5nbGVBcmdOdW1GdW5jdGlvbnNba2V5XSh2YWwpO1xuICB9IGVsc2UgaWYgKGtleSBpbiBjZWlsRmxvb3JOdW1GdW5jdGlvbnMgJiYgaXNDZWlsRmxvb3JBcmcodmFsKSkge1xuICAgIHJldHVybiBjZWlsRmxvb3JOdW1GdW5jdGlvbnNba2V5XSh2YWwpO1xuICB9IGVsc2UgaWYgKGtleSBpbiBsb2dOdW1GdW5jdGlvbiAmJiBpc0xvZ0FyZyh2YWwpKSB7XG4gICAgcmV0dXJuIGxvZ051bUZ1bmN0aW9uW2tleV0odmFsKTtcbiAgfSBlbHNlIGlmIChrZXkgaW4gbW9kTnVtRnVuY3Rpb24gJiYgaXNNb2RBcmcodmFsKSkge1xuICAgIHJldHVybiBtb2ROdW1GdW5jdGlvbltrZXldKHZhbCk7XG4gIH0gZWxzZSBpZiAoa2V5IGluIHBvd2VyTnVtRnVuY3Rpb24gJiYgaXNQb3dlckFyZyh2YWwpKSB7XG4gICAgcmV0dXJuIHBvd2VyTnVtRnVuY3Rpb25ba2V5XSh2YWwpO1xuICB9IGVsc2UgaWYgKGtleSBpbiByb3VuZE51bUZ1bmN0aW9ucyAmJiBpc1JvdW5kQXJnKHZhbCkpIHtcbiAgICByZXR1cm4gcm91bmROdW1GdW5jdGlvbnNba2V5XSh2YWwpO1xuICB9XG4gIHRocm93IGhhbmRsZUVycm9yKHsga2V5LCB2YWwgfSk7XG59O1xuIiwiaW1wb3J0IHsgUXVlcnlGaWVsZCwgUXVlcnlPYmplY3QgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGFycmF5RnVuY3Rpb25zIH0gZnJvbSAnLi9hcnJheUZ1bmN0aW9ucyc7XG5pbXBvcnQgeyBiYXNlSGFuZGxlciB9IGZyb20gJy4vYmFzZUhhbmRsZXJzJztcbmltcG9ydCB7IGhhbmRsZUxvZ2ljYWxGdW5jLCBsb2dpY2FsRnVuY3Rpb25zIH0gZnJvbSAnLi9sb2dpY2FsRnVuY3Rpb25zJztcbmltcG9ydCB7IGxvZ2ljYWxPcGVyYXRvcnMgfSBmcm9tICcuL2xvZ2ljYWxPcGVyYXRvcnMnO1xuaW1wb3J0IHsgaGFuZGxlVGV4dEZ1bmMsIHRleHRGdW5jdGlvbnMgfSBmcm9tICcuL3RleHRGdW5jdGlvbnMnO1xuaW1wb3J0IHtcbiAgYWxsSW5kZXhlc1ZhbGlkLFxuICBpc0Jhc2VGaWVsZCxcbiAgaXNGdW5jLFxuICBpc0pvaW5BcmdzLFxuICBpc1F1ZXJ5T2JqZWN0LFxuICBpc1F1ZXJ5T2JqZWN0QXJyYXksXG4gIGlzUmVnZXhBcmdzLFxuICBpc1JlZ2V4UmVwbGFjZUFyZ3MsXG4gIGlzU3RyaW5nLFxufSBmcm9tICcuL3R5cGVDaGVja2Vycyc7XG5pbXBvcnQgeyByZWdleEZ1bmN0aW9ucywgcmVnZXhSZXBsYWNlRnVuY3Rpb24gfSBmcm9tICcuL3JlZ2V4RnVuY3Rpb25zJztcbmltcG9ydCB7XG4gIGhhbmRsZU51bWVyaWNhbEZ1bmMsXG4gIG51bWVyaWNhbEZ1bmN0aW9ucyxcbiAgbnVtZXJpY09wZXJhdG9ycyxcbn0gZnJvbSAnLi9udW1lcmljRnVuY3Rpb25zJztcblxuZXhwb3J0IGNvbnN0IG9wZXJhdG9yRnVuY3Rpb25zID0ge1xuICAuLi5sb2dpY2FsT3BlcmF0b3JzLFxuICAuLi5udW1lcmljT3BlcmF0b3JzLFxufTtcblxuZXhwb3J0IGNvbnN0IGhhbmRsZUVycm9yID0gKGFyZzogUXVlcnlGaWVsZCk6IEVycm9yID0+XG4gIG5ldyBFcnJvcihgSW52YWxpZCBRdWVyeSBPYmplY3QsICR7SlNPTi5zdHJpbmdpZnkoYXJnKX1gKTtcblxuZXhwb3J0IGNvbnN0IHF1ZXJ5QnVpbGRlciA9IChhcmc6IFF1ZXJ5RmllbGQpOiBzdHJpbmcgPT4ge1xuICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoaXNGdW5jKGFyZykgJiYgIWlzQmFzZUZpZWxkKGFyZykgJiYgIWlzUXVlcnlPYmplY3QoYXJnKSkge1xuICAgICAgcmV0dXJuIGFyZygpO1xuICAgIH1cbiAgICBpZiAoaXNCYXNlRmllbGQoYXJnKSkge1xuICAgICAgcmV0dXJuIGJhc2VIYW5kbGVyKGFyZyk7XG4gICAgfVxuXG4gICAgaWYgKGFyZyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICBjb25zdCBzdHIgPSBhcmcubWFwKChhOiBRdWVyeUZpZWxkKSA9PiBxdWVyeUJ1aWxkZXIoYSkpLmpvaW4oJywgJyk7XG4gICAgICByZXR1cm4gc3RyLnRyaW0oKTtcbiAgICB9XG5cbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYXJnKTtcbiAgICBjb25zdCB2YWxzID0gT2JqZWN0LnZhbHVlcyhhcmcpO1xuXG4gICAgaWYgKFxuICAgICAga2V5cy5sZW5ndGggPiAxICYmXG4gICAgICBhbGxJbmRleGVzVmFsaWQodmFscykgJiZcbiAgICAgIGlzUXVlcnlPYmplY3RBcnJheShrZXlzLm1hcCgoaywgaSkgPT4gKHsgW2tdOiB2YWxzW2ldIH0pKSlcbiAgICApIHtcbiAgICAgIHJldHVybiBsb2dpY2FsRnVuY3Rpb25zLiRhbmQoXG4gICAgICAgIGtleXMubWFwKChrLCBpKSA9PiAoeyBba106IHZhbHNbaV0gfSkpIGFzIFF1ZXJ5T2JqZWN0ICYgUXVlcnlPYmplY3RbXSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3Qga2V5ID0ga2V5c1swXTtcbiAgICBpZiAoYXJnW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHF1ZXJ5Jyk7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsID0gYXJnW2tleV07XG4gICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoa2V5ID09PSAnJGZpZWxkTmFtZScgJiYgaXNTdHJpbmcodmFsKSkge1xuICAgICAgICByZXR1cm4gYHske3ZhbH19YDtcbiAgICAgIH1cblxuICAgICAgaWYgKGtleSA9PT0gJyRpbnNlcnQnICYmIGlzU3RyaW5nKHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgaW4gbG9naWNhbEZ1bmN0aW9ucykge1xuICAgICAgICByZXR1cm4gaGFuZGxlTG9naWNhbEZ1bmMoa2V5LCB2YWwpO1xuICAgICAgfSBlbHNlIGlmIChrZXkgaW4gdGV4dEZ1bmN0aW9ucykge1xuICAgICAgICByZXR1cm4gaGFuZGxlVGV4dEZ1bmMoa2V5LCB2YWwpO1xuICAgICAgfSBlbHNlIGlmIChrZXkgaW4gbnVtZXJpY2FsRnVuY3Rpb25zKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVOdW1lcmljYWxGdW5jKGtleSwgdmFsKTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5IGluIHJlZ2V4RnVuY3Rpb25zICYmIGlzUmVnZXhBcmdzKHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2V4RnVuY3Rpb25zW2tleV0odmFsKTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5IGluIHJlZ2V4UmVwbGFjZUZ1bmN0aW9uICYmIGlzUmVnZXhSZXBsYWNlQXJncyh2YWwpKSB7XG4gICAgICAgIHJldHVybiByZWdleEZ1bmN0aW9uc1trZXldKHZhbCk7XG4gICAgICB9IGVsc2UgaWYgKGtleSBpbiBhcnJheUZ1bmN0aW9ucykge1xuICAgICAgICBpZiAoaXNKb2luQXJncyh2YWwpKSB7XG4gICAgICAgICAgcmV0dXJuIGFycmF5RnVuY3Rpb25zLiRhcnJheUpvaW4odmFsLnZhbCwgdmFsLnNlcGFyYXRvcik7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXR1cm4gYXJyYXlGdW5jdGlvbnNba2V5XSh2YWwpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzUXVlcnlPYmplY3QodmFsKSkge1xuICAgICAgICBjb25zdCB2YWxLZXlzID0gT2JqZWN0LmtleXModmFsKTtcbiAgICAgICAgY29uc3Qgc3ViVmFscyA9IE9iamVjdC52YWx1ZXModmFsKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgdmFsS2V5cy5sZW5ndGggPiAxICYmXG4gICAgICAgICAgYWxsSW5kZXhlc1ZhbGlkKHN1YlZhbHMpICYmXG4gICAgICAgICAgaXNRdWVyeU9iamVjdEFycmF5KHZhbEtleXMubWFwKChrLCBpKSA9PiAoeyBba106IHN1YlZhbHNbaV0gfSkpKSAmJlxuICAgICAgICAgIHN1YlZhbHMuZXZlcnkoKHYpID0+IGlzUXVlcnlPYmplY3QodikgfHwgaXNCYXNlRmllbGQodikpXG4gICAgICAgICkge1xuICAgICAgICAgIGlmICh2YWxLZXlzLmV2ZXJ5KChrKSA9PiBrIGluIGxvZ2ljYWxPcGVyYXRvcnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9naWNhbEZ1bmN0aW9ucy4kYW5kKFxuICAgICAgICAgICAgICB2YWxLZXlzLm1hcCgoaywgaSkgPT4gKHtcbiAgICAgICAgICAgICAgICBba2V5XTogeyBba106IHN1YlZhbHNbaV0gfSxcbiAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZhbEtleXMuZXZlcnkoKGspID0+IGsgaW4gbnVtZXJpY09wZXJhdG9ycykpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWxLZXkgPSB2YWxLZXlzWzBdO1xuICAgICAgICBjb25zdCBzdWJWYWwgPSBzdWJWYWxzWzBdO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdmFsS2V5IGluIG9wZXJhdG9yRnVuY3Rpb25zICYmXG4gICAgICAgICAgKGlzUXVlcnlPYmplY3Qoc3ViVmFsKSB8fCBpc0Jhc2VGaWVsZChzdWJWYWwpKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gb3BlcmF0b3JGdW5jdGlvbnNbdmFsS2V5XSh7XG4gICAgICAgICAgICBba2V5XTogc3ViVmFsLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzUXVlcnlPYmplY3QodmFsKSB8fCBpc0Jhc2VGaWVsZCh2YWwpKSB7XG4gICAgICAgIHJldHVybiBvcGVyYXRvckZ1bmN0aW9ucy4kZXEoeyBba2V5XTogdmFsIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB0aHJvdyBoYW5kbGVFcnJvcihhcmcpO1xufTtcbiIsImltcG9ydCB7IFNlbGVjdE9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IHF1ZXJ5QnVpbGRlciB9IGZyb20gJy4vcXVlcnlCdWlsZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgKG9wdHM6IFNlbGVjdE9wdGlvbnMpOiBzdHJpbmcgPT4ge1xuICBpZiAoXG4gICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdHMsICdmaWx0ZXJCeUZvcm11bGEnKSAmJlxuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRzLCAnd2hlcmUnKVxuICApXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0Nhbm5vdCB1c2UgYm90aCB3aGVyZSBhbmQgZmlsdGVyQnlGb3JtdWxhIGFzIHRoZXkgYWNjb21wbGlzaCB0aGUgc2FtZSB0aGluZycsXG4gICAgKTtcblxuICBjb25zdCBwYXJhbXMgPSBPYmplY3Qua2V5cyhvcHRzKVxuICAgIC5tYXAoKGtleTogc3RyaW5nLCBpKSA9PiB7XG4gICAgICAvKiogQHRvZG8gRmluZCBhIGJldHRlciB0eXBlIHRoYW4gYW55IGZvciB0aGlzICovXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgY29uc3Qgb3B0OiBhbnkgPSBvcHRzW2tleSBhcyBrZXlvZiBTZWxlY3RPcHRpb25zXTtcbiAgICAgIGxldCBmb3JtYXR0ZWQ7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHQpKSB7XG4gICAgICAgIGZvcm1hdHRlZCA9IG9wdFxuICAgICAgICAgIC5tYXAoKGl0ZW0sIGopID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIGl0ZW0pIHtcbiAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoaXRlbSlcbiAgICAgICAgICAgICAgICAgIC5tYXAoKHN1YktleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICAgICAgICAgICAgICAgIGAke2tleX1bJHtqfV1bJHtzdWJLZXl9XWAsXG4gICAgICAgICAgICAgICAgICAgICl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW1bc3ViS2V5XSl9YDtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAuam9pbignJicpO1xuICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtlbmNvZGVVUklDb21wb25lbnQoa2V5ICsgJ1tdJyl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICAgICAgICAgICAgaXRlbSxcbiAgICAgICAgICAgICAgICApfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuam9pbignJicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ3doZXJlJykge1xuICAgICAgICAgIGZvcm1hdHRlZCA9IGBmaWx0ZXJCeUZvcm11bGE9JHtlbmNvZGVVUklDb21wb25lbnQoXG4gICAgICAgICAgICBxdWVyeUJ1aWxkZXIob3B0KSxcbiAgICAgICAgICApfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9ybWF0dGVkID0gYCR7a2V5fT0ke2VuY29kZVVSSUNvbXBvbmVudChvcHQpfWA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpICE9PSAwID8gYCYke2Zvcm1hdHRlZH1gIDogZm9ybWF0dGVkO1xuICAgIH0pXG4gICAgLmpvaW4oJycpO1xuICByZXR1cm4gcGFyYW1zO1xufTtcbiIsImltcG9ydCB7IEFyZyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCAoXG4gIGFyZzogQXJnLFxuICBuYW1lOiBzdHJpbmcsXG4gIHR5cGU6IHN0cmluZyxcbiAgcmVxdWlyZWQgPSB0cnVlLFxuKTogdm9pZCA9PiB7XG4gIGlmIChhcmcgPT09IHVuZGVmaW5lZCAmJiByZXF1aXJlZClcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEFyZ3VtZW50IFwiJHtuYW1lfVwiIGlzIHJlcXVpcmVkLmApO1xuICBpZiAoYXJnID09PSB1bmRlZmluZWQgJiYgIXJlcXVpcmVkKSByZXR1cm47XG4gIGlmICh0eXBlb2YgYXJnICE9PSB0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT09ICdhcnJheScgJiYgQXJyYXkuaXNBcnJheShhcmcpKSByZXR1cm47XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEluY29ycmVjdCBkYXRhIHR5cGUgb24gYXJndW1lbnQgXCIke25hbWV9XCIuIFJlY2VpdmVkIFwiJHt0eXBlb2YgYXJnfVwiOiBleHBlY3RlZCBcIiR7dHlwZX1cImAsXG4gICAgKTtcbiAgfVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IChzdGF0dXM6IG51bWJlcik6IGJvb2xlYW4gPT4gc3RhdHVzID49IDMwMDtcbiIsImltcG9ydCAqIGFzIG5vZGVGZXRjaCBmcm9tICdub2RlLWZldGNoJztcbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gID8gd2luZG93LmZldGNoLmJpbmQod2luZG93KVxuICA6ICgobm9kZUZldGNoIGFzIHVua25vd24pIGFzIHR5cGVvZiBmZXRjaCk7XG4iLCJpbXBvcnQgZmV0Y2ggZnJvbSAnLi9mZXRjaCc7XG50eXBlIFJhdGVMaW1pdEhhbmRsZXIgPSA8VD4oXG4gIHVybDogc3RyaW5nLFxuICBvcHRzOiBSZXF1ZXN0SW5pdCxcbiAgcmV0cnlUaW1lb3V0OiBudW1iZXIsXG4gIG1heFJldHJ5OiBudW1iZXIsXG4gIGtleT86IHN0cmluZyxcbikgPT4gUHJvbWlzZTxUPjtcbmNvbnN0IHJhdGVMaW1pdEhhbmRsZXI6IFJhdGVMaW1pdEhhbmRsZXIgPSBhc3luYyAoXG4gIHVybDogc3RyaW5nLFxuICBvcHRzOiBSZXF1ZXN0SW5pdCxcbiAgcmV0cnlUaW1lb3V0OiBudW1iZXIsXG4gIG1heFJldHJ5OiBudW1iZXIsXG4gIGtleT86IHN0cmluZyxcbiAgLyoqIEB0b2RvIEZpbmQgYSBiZXR0ZXIgdHlwZSB0aGFuIGFueSBmb3IgdGhpcyAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcmV0cnlSYXRlTGltaXQgPSAoXG4gICAgICB1cmw6IHN0cmluZyxcbiAgICAgIG9wdHM6IFJlcXVlc3RJbml0LFxuICAgICAgcmV0cnlUaW1lb3V0OiBudW1iZXIsXG4gICAgICBtYXhSZXRyeTogbnVtYmVyLFxuICAgICAga2V5Pzogc3RyaW5nLFxuICAgICk6IHZvaWQgPT4ge1xuICAgICAgaWYgKG1heFJldHJ5ICYmIG1heFJldHJ5IDwgMSkge1xuICAgICAgICByZWplY3QoJ01heCB0aW1lb3V0IGV4Y2VlZGVkJyk7XG4gICAgICB9XG4gICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIG9wdHMpO1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSA0MjkpIHtcbiAgICAgICAgICAgIHJldHJ5UmF0ZUxpbWl0KFxuICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgIG9wdHMsXG4gICAgICAgICAgICAgIHJldHJ5VGltZW91dCAqIDEuNSxcbiAgICAgICAgICAgICAgbWF4UmV0cnkgLSByZXRyeVRpbWVvdXQsXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSwgcmV0cnlUaW1lb3V0KTtcbiAgICB9O1xuXG4gICAgcmV0cnlSYXRlTGltaXQodXJsLCBvcHRzLCByZXRyeVRpbWVvdXQsIG1heFJldHJ5LCBrZXkpO1xuICB9KTtcbn07XG5leHBvcnQgZGVmYXVsdCByYXRlTGltaXRIYW5kbGVyO1xuIiwiaW1wb3J0IHsgQXN5bmNBaXJ0YWJsZSB9IGZyb20gJy4vYXN5bmNBaXJ0YWJsZSc7XG5pbXBvcnQgY2hlY2tFcnJvciBmcm9tICcuL2NoZWNrRXJyb3InO1xuaW1wb3J0IGZldGNoIGZyb20gJy4vZmV0Y2gnO1xuaW1wb3J0IHJhdGVMaW1pdEhhbmRsZXIgZnJvbSAnLi9yYXRlTGltaXRIYW5kbGVyJztcblxudHlwZSBBcmdzID0ge1xuICBlbmRwb2ludDogc3RyaW5nO1xuICBvcHRpb25zPzogUmVxdWVzdEluaXQ7XG4gIGluc3RhbmNlOiBBc3luY0FpcnRhYmxlO1xuICBwYWdlSGFuZGxlcj86IHtcbiAgICBpbmRleDogbnVtYmVyO1xuICAgIHBhZ2U6IG51bWJlcjtcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXF1ZXN0ID0gYXN5bmMgPFQ+KHtcbiAgZW5kcG9pbnQsXG4gIG9wdGlvbnMsXG4gIGluc3RhbmNlLFxuICBwYWdlSGFuZGxlcixcbn06IEFyZ3MpOiBQcm9taXNlPFQ+ID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXM6IFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZW5kcG9pbnQsIG9wdGlvbnMpO1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXMuanNvbigpO1xuICAgIGlmIChjaGVja0Vycm9yKHJlcy5zdGF0dXMpKSB7XG4gICAgICBpZiAocmVzLnN0YXR1cyAhPT0gNDI5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShib2R5KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbnN0YW5jZS5yZXRyeU9uUmF0ZUxpbWl0KSB7XG4gICAgICAgIGlmICghcGFnZUhhbmRsZXIgfHwgcGFnZUhhbmRsZXIuaW5kZXggKyAxID09PSBwYWdlSGFuZGxlci5wYWdlKSB7XG4gICAgICAgICAgY29uc3QgbGltaXQgPSBhd2FpdCByYXRlTGltaXRIYW5kbGVyPFQ+KFxuICAgICAgICAgICAgZW5kcG9pbnQsXG4gICAgICAgICAgICBvcHRpb25zID8/IHt9LFxuICAgICAgICAgICAgaW5zdGFuY2UucmV0cnlUaW1lb3V0LFxuICAgICAgICAgICAgaW5zdGFuY2UubWF4UmV0cnksXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gbGltaXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJvZHk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICB9XG59O1xuIiwiaW1wb3J0IGJ1aWxkT3B0cyBmcm9tICcuL2J1aWxkT3B0cyc7XG5pbXBvcnQgY2hlY2tBcmcgZnJvbSAnLi9jaGVja0FyZyc7XG5pbXBvcnQge1xuICBTZWxlY3RPcHRpb25zLFxuICBBaXJ0YWJsZURlbGV0ZWRSZXNwb25zZSxcbiAgQWlydGFibGVSZWNvcmQsXG4gIEFpcnRhYmxlUmVjb3JkUmVzcG9uc2UsXG4gIEFpcnRhYmxlVXBkYXRlUmVjb3JkLFxuICBEZWxldGVSZXNwb25zZSxcbiAgRmllbGRzLFxuICBDb25maWcsXG4gIHF1ZXJ5Qm9keSxcbiAgVHlwZWNhc3QsXG4gIHVwZGF0ZU9wdHMsXG4gIGJ1bGtRdWVyeUJvZHksXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gJy4vaHR0cCc7XG5cbi8qKiBAaWdub3JlICovXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIEFzeW5jQWlydGFibGU6IHR5cGVvZiBBc3luY0FpcnRhYmxlO1xuICB9XG59XG5cbmNvbnN0IHZhbGlkT3B0aW9uczogc3RyaW5nW10gPSBbXG4gICdmaWVsZHMnLFxuICAnZmlsdGVyQnlGb3JtdWxhJyxcbiAgJ21heFJlY29yZHMnLFxuICAncGFnZVNpemUnLFxuICAnc29ydCcsXG4gICd2aWV3JyxcbiAgJ3doZXJlJyxcbl07XG5cbi8qKlxuICogVGhlIG1haW4gQXN5bmNBaXJ0YWJsZSBjbGFzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFzeW5jQWlydGFibGUge1xuICAvKipcbiAgICogQGRlZmF1bHQ9dHJ1ZVxuICAgKiBUaGlzIGRlY2lkZXMgd2hldGhlciBvciBub3QgdGhlIGxpYnJhcnkgd2lsbFxuICAgKiBoYW5kbGUgcmV0cnlpbmcgYSByZXF1ZXN0IHdoZW4gcmF0ZSBsaW1pdGVkXG4gICAqL1xuICByZXRyeU9uUmF0ZUxpbWl0OiBib29sZWFuO1xuICAvKipcbiAgICogQGRlZmF1bHQ9NjAwMDBcbiAgICogVGhlIG1heG1pdW0gYW1vdW50IG9mIHRpbWUgYmVmb3JlIHRoZVxuICAgKiBsaWJyYXJ5IHdpbGwgc3RvcCByZXRyeWluZyBhbmQgdGltZW91dCB3aGVuIHJhdGUgbGltaXRlZFxuICAgKi9cbiAgbWF4UmV0cnk6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBkZWZhdWx0PTUwMDBcbiAgICogVGhlIHN0YXJ0aW5nIHRpbWVvdXQgZm9yIHRoZSByZXRyeS4gVGhpcyB3aWxsIGdldCA1MCVcbiAgICogbGFyZ2VyIHdpdGggZWFjaCB0cnkgdW50aWwgeW91IGhpdCB0aGUgbWF4UmV0cnkgYW1vdW50XG4gICAqL1xuICByZXRyeVRpbWVvdXQ6IG51bWJlcjtcbiAgLyoqIFRoZSBBUEkgS2V5IGZyb20gQWlyVGFibGUgKi9cbiAgYXBpS2V5OiBzdHJpbmc7XG4gIC8qKiBUaGUgYmFzZSBpZCBmcm9tIEFpclRhYmxlICovXG4gIGJhc2U6IHN0cmluZztcbiAgLyoqIHRoZSBiYXNlIFVSTCB0byB1c2Ugd2hlbiBtYWtpbmcgQVBJIHJlcXVlc3RzICovXG4gIGJhc2VVUkw6IHN0cmluZztcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgQXN5bmNBaXJ0YWJsZSBsaWJyYXJ5LlxuICAgKiBAcGFyYW0gYXBpS2V5IFRoZSBBUEkgS2V5IGZyb20gQWlyVGFibGVcbiAgICogQHBhcmFtIGJhc2UgVGhlIGJhc2UgaWQgZnJvbSBBaXJUYWJsZVxuICAgKiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWcgdG8gdXNlIGZvciB0aGlzIGluc3RhbmNlIG9mIEFzeW5jQWlydGFibGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKGFwaUtleTogc3RyaW5nLCBiYXNlOiBzdHJpbmcsIGNvbmZpZz86IENvbmZpZykge1xuICAgIGlmICghYXBpS2V5KSB0aHJvdyBuZXcgRXJyb3IoJ0FQSSBLZXkgaXMgcmVxdWlyZWQuJyk7XG4gICAgaWYgKCFiYXNlKSB0aHJvdyBuZXcgRXJyb3IoJ0Jhc2UgSUQgaXMgcmVxdWlyZWQuJyk7XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgdGhpcy5iYXNlID0gYmFzZTtcbiAgICB0aGlzLnJldHJ5T25SYXRlTGltaXQgPSBjb25maWc/LnJldHJ5T25SYXRlTGltaXQgfHwgdHJ1ZTtcbiAgICB0aGlzLnJldHJ5VGltZW91dCA9IGNvbmZpZz8ucmV0cnlUaW1lb3V0IHx8IDUwMDA7XG4gICAgdGhpcy5tYXhSZXRyeSA9IGNvbmZpZz8ubWF4UmV0cnkgfHwgNjAwMDA7XG4gICAgdGhpcy5iYXNlVVJMID0gY29uZmlnPy5iYXNlVVJMIHx8ICdodHRwczovL2FwaS5haXJ0YWJsZS5jb20vdjAnO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdCByZWNvcmQocykgZnJvbSB0aGUgc3BlY2lmaWVkIHRhYmxlLlxuICAgKiBAcGFyYW0gdGFibGUgVGFibGUgbmFtZVxuICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIG9iamVjdCwgdXNlZCB0byBmaWx0ZXIgcmVjb3Jkc1xuICAgKiBAcGFyYW0gcGFnZSBVc2VkIHRvIGdldCBhIHNwZWNpZmljIHBhZ2Ugb2YgcmVjb3Jkc1xuICAgKiBAcmV0dXJuc1xuICAgKiBAYXN5bmNcbiAgICovXG4gIHNlbGVjdCA9IGFzeW5jIChcbiAgICB0YWJsZTogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBTZWxlY3RPcHRpb25zLFxuICAgIHBhZ2U/OiBudW1iZXIsXG4gICk6IFByb21pc2U8QWlydGFibGVSZWNvcmRbXT4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjaGVja0FyZyh0YWJsZSwgJ3RhYmxlJywgJ3N0cmluZycpO1xuICAgICAgY2hlY2tBcmcob3B0aW9ucywgJ29wdGlvbnMnLCAnb2JqZWN0JywgZmFsc2UpO1xuICAgICAgY2hlY2tBcmcocGFnZSwgJ3BhZ2UnLCAnbnVtYmVyJywgZmFsc2UpO1xuICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5iYXNlVVJMfS8ke3RoaXMuYmFzZX0vJHt0YWJsZX1gO1xuICAgICAgY29uc3Qgb3B0czogU2VsZWN0T3B0aW9ucyA9IG9wdGlvbnMgPyB7IC4uLm9wdGlvbnMgfSA6IHt9O1xuICAgICAgT2JqZWN0LmtleXMob3B0cykuZm9yRWFjaCgob3B0aW9uKSA9PiB7XG4gICAgICAgIGlmICghdmFsaWRPcHRpb25zLmluY2x1ZGVzKG9wdGlvbikpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgb3B0aW9uOiAke29wdGlvbn1gKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBsZXQgb2Zmc2V0OiBzdHJpbmcgfCB1bmRlZmluZWQgPSAnJztcbiAgICAgIGxldCBkYXRhOiBBaXJ0YWJsZVJlY29yZFtdID0gW107XG4gICAgICBpZiAocGFnZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2U7IGkrKykge1xuICAgICAgICAgIGlmIChvZmZzZXQpIHtcbiAgICAgICAgICAgIG9wdHMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3Q8QWlydGFibGVSZWNvcmRSZXNwb25zZT4oe1xuICAgICAgICAgICAgICBlbmRwb2ludDogYCR7dXJsfT8ke2J1aWxkT3B0cyhvcHRzKX1gLFxuICAgICAgICAgICAgICBvcHRpb25zOiB7IGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAgfSB9LFxuICAgICAgICAgICAgICBpbnN0YW5jZTogdGhpcyxcbiAgICAgICAgICAgICAgcGFnZUhhbmRsZXI6IHtcbiAgICAgICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaSArIDEgPT09IHBhZ2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGJvZHkucmVjb3JkcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZnNldCA9IGJvZHkub2Zmc2V0O1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAoIWRvbmUpIHtcbiAgICAgICAgICBpZiAob2Zmc2V0KSB7XG4gICAgICAgICAgICBvcHRzLm9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHk6IEFpcnRhYmxlUmVjb3JkUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KHtcbiAgICAgICAgICAgICAgZW5kcG9pbnQ6IGAke3VybH0/JHtidWlsZE9wdHMob3B0cyl9YCxcbiAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgaW5zdGFuY2U6IHRoaXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLmNvbmNhdChib2R5LnJlY29yZHMpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gYm9keS5vZmZzZXQ7XG4gICAgICAgICAgICBpZiAoIWJvZHkub2Zmc2V0KSB7XG4gICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRmluZHMgYSByZWNvcmQgb24gdGhlIHNwZWNpZmllZCB0YWJsZS5cbiAgICogQHBhcmFtIHRhYmxlIFRhYmxlIG5hbWVcbiAgICogQHBhcmFtIGlkIEFpcnRhYmxlIHJlY29yZCBJRFxuICAgKiBAcmV0dXJuc1xuICAgKiBAYXN5bmNcbiAgICovXG4gIGZpbmQgPSBhc3luYyAodGFibGU6IHN0cmluZywgaWQ6IHN0cmluZyk6IFByb21pc2U8QWlydGFibGVSZWNvcmQ+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY2hlY2tBcmcodGFibGUsICd0YWJsZScsICdzdHJpbmcnKTtcbiAgICAgIGNoZWNrQXJnKGlkLCAnaWQnLCAnc3RyaW5nJyk7XG4gICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVUkx9LyR7dGhpcy5iYXNlfS8ke3RhYmxlfS8ke2lkfWA7XG4gICAgICBjb25zdCBkYXRhOiBBaXJ0YWJsZVJlY29yZCA9IGF3YWl0IHJlcXVlc3Qoe1xuICAgICAgICBlbmRwb2ludDogdXJsLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCB9LFxuICAgICAgICB9LFxuICAgICAgICBpbnN0YW5jZTogdGhpcyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgcmVjb3JkIG9uIHRoZSBzcGVjaWZpZWQgdGFibGUuXG4gICAqIEBwYXJhbSB0YWJsZSAtIFRhYmxlIG5hbWVcbiAgICogQHBhcmFtIHJlY29yZCAtIFJlY29yZCBvYmplY3QsIHVzZWQgdG8gc3RydWN0dXJlIGRhdGEgZm9yIGluc2VydFxuICAgKiBAcGFyYW0gdHlwZWNhc3QgLSBVc2VkIGZvciBhbGxvd2luZyB0aGUgYWJpbGl0eSB0byBhZGQgbmV3IHNlbGVjdGlvbnMgZm9yIFNlbGVjdCBhbmQgTXVsdGlzZWxlY3QgZmllbGRzLlxuICAgKiBAcmV0dXJuc1xuICAgKiBAYXN5bmNcbiAgICovXG4gIGNyZWF0ZVJlY29yZCA9IGFzeW5jIChcbiAgICB0YWJsZTogc3RyaW5nLFxuICAgIHJlY29yZDogRmllbGRzLFxuICAgIHR5cGVjYXN0PzogVHlwZWNhc3QsXG4gICk6IFByb21pc2U8QWlydGFibGVSZWNvcmQ+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY2hlY2tBcmcodGFibGUsICd0YWJsZScsICdzdHJpbmcnKTtcbiAgICAgIGNoZWNrQXJnKHJlY29yZCwgJ3JlY29yZCcsICdvYmplY3QnKTtcbiAgICAgIGNoZWNrQXJnKHR5cGVjYXN0LCAndHlwZWNhc3QnLCAnYm9vbGVhbicsIGZhbHNlKTtcbiAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYmFzZVVSTH0vJHt0aGlzLmJhc2V9LyR7dGFibGV9YDtcbiAgICAgIGNvbnN0IGJvZHk6IHF1ZXJ5Qm9keSA9IHsgZmllbGRzOiByZWNvcmQgfTtcbiAgICAgIGlmICh0eXBlY2FzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGJvZHkudHlwZWNhc3QgPSB0eXBlY2FzdDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGE6IEFpcnRhYmxlUmVjb3JkID0gYXdhaXQgcmVxdWVzdCh7XG4gICAgICAgIGVuZHBvaW50OiB1cmwsXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAsXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGEgcmVjb3JkIG9uIHRoZSBzcGVjaWZpZWQgdGFibGUuXG4gICAqIEBwYXJhbSB0YWJsZSAtIFRhYmxlIG5hbWVcbiAgICogQHBhcmFtIHJlY29yZCAtIFJlY29yZCBvYmplY3QsIHVzZWQgdG8gdXBkYXRlIGRhdGEgd2l0aGluIGEgc3BlY2lmaWMgcmVjb3JkXG4gICAqIEBwYXJhbSBvcHRzIC0gQW4gb2JqZWN0IHdpdGggb3B0aW9ucyBmb3IgeW91ciB1cGRhdGUgc3RhdGVtZW50XG4gICAqIEByZXR1cm5zXG4gICAqIEBhc3luY1xuICAgKi9cbiAgdXBkYXRlUmVjb3JkID0gYXN5bmMgKFxuICAgIHRhYmxlOiBzdHJpbmcsXG4gICAgcmVjb3JkOiBBaXJ0YWJsZVVwZGF0ZVJlY29yZCxcbiAgICBvcHRzPzogdXBkYXRlT3B0cyxcbiAgKTogUHJvbWlzZTxBaXJ0YWJsZVJlY29yZD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjaGVja0FyZyh0YWJsZSwgJ3RhYmxlJywgJ3N0cmluZycpO1xuICAgICAgY2hlY2tBcmcocmVjb3JkLCAncmVjb3JkJywgJ29iamVjdCcpO1xuICAgICAgaWYgKG9wdHMpIHtcbiAgICAgICAgY2hlY2tBcmcob3B0cy5kZXN0cnVjdGl2ZSwgJ29wdHMuZGVzY3RydWN0aXZlJywgJ2Jvb2xlYW4nKTtcbiAgICAgICAgY2hlY2tBcmcob3B0cy50eXBlY2FzdCwgJ29wdHMudHlwZWNhc3QnLCAnYm9vbGVhbicsIGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYmFzZVVSTH0vJHt0aGlzLmJhc2V9LyR7dGFibGV9LyR7cmVjb3JkLmlkfWA7XG4gICAgICBjb25zdCBib2R5OiBxdWVyeUJvZHkgPSB7IGZpZWxkczogcmVjb3JkLmZpZWxkcyB9O1xuICAgICAgaWYgKG9wdHM/LnR5cGVjYXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYm9keS50eXBlY2FzdCA9IG9wdHM/LnR5cGVjYXN0O1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YTogQWlydGFibGVSZWNvcmQgPSBhd2FpdCByZXF1ZXN0KHtcbiAgICAgICAgZW5kcG9pbnQ6IHVybCxcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBtZXRob2Q6IG9wdHM/LmRlc3RydWN0aXZlID8gJ3B1dCcgOiAncGF0Y2gnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGVsZXRlcyBhIHJlY29yZCBmcm9tIHRoZSBzcGVjaWZpZWQgdGFibGUuXG4gICAqIEBwYXJhbSB0YWJsZSAtIFRhYmxlIG5hbWVcbiAgICogQHBhcmFtIGlkIC0gQWlydGFibGUgcmVjb3JkIElEXG4gICAqIEByZXR1cm5zXG4gICAqIEBhc3luY1xuICAgKi9cbiAgZGVsZXRlUmVjb3JkID0gYXN5bmMgKHRhYmxlOiBzdHJpbmcsIGlkOiBzdHJpbmcpOiBQcm9taXNlPERlbGV0ZVJlc3BvbnNlPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNoZWNrQXJnKHRhYmxlLCAndGFibGUnLCAnc3RyaW5nJyk7XG4gICAgICBjaGVja0FyZyhpZCwgJ2lkJywgJ3N0cmluZycpO1xuICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5iYXNlVVJMfS8ke3RoaXMuYmFzZX0vJHt0YWJsZX0vJHtpZH1gO1xuICAgICAgY29uc3QgZGF0YTogRGVsZXRlUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KHtcbiAgICAgICAgZW5kcG9pbnQ6IHVybCxcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBtZXRob2Q6ICdkZWxldGUnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIG11bHRpcGxlIG5ldyByZWNvcmRzIG9uIHRoZSBzcGVjaWZpZWQgdGFibGUuXG4gICAqIEBwYXJhbSB0YWJsZSAtIFRhYmxlIG5hbWVcbiAgICogQHBhcmFtIHJlY29yZHMgLSBBbiBhcnJheSBvZiBSZWNvcmQgb2JqZWN0c1xuICAgKiBAcGFyYW0gdHlwZWNhc3QgLSBVc2VkIGZvciBhbGxvd2luZyB0aGUgYWJpbGl0eSB0byBhZGQgbmV3IHNlbGVjdGlvbnMgZm9yIFNlbGVjdCBhbmQgTXVsdGlzZWxlY3QgZmllbGRzLlxuICAgKiBAcmV0dXJuc1xuICAgKiBAYXN5bmNcbiAgICovXG4gIGJ1bGtDcmVhdGUgPSBhc3luYyAoXG4gICAgdGFibGU6IHN0cmluZyxcbiAgICByZWNvcmRzOiBGaWVsZHNbXSxcbiAgICB0eXBlY2FzdD86IFR5cGVjYXN0LFxuICApOiBQcm9taXNlPEFpcnRhYmxlUmVjb3JkW10+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY2hlY2tBcmcodGFibGUsICd0YWJsZScsICdzdHJpbmcnKTtcbiAgICAgIGNoZWNrQXJnKHJlY29yZHMsICdyZWNvcmRzJywgJ2FycmF5Jyk7XG4gICAgICBjaGVja0FyZyh0eXBlY2FzdCwgJ3R5cGVjYXN0JywgJ2Jvb2xlYW4nLCBmYWxzZSk7XG4gICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVUkx9LyR7dGhpcy5iYXNlfS8ke3RhYmxlfWA7XG4gICAgICBjb25zdCBib2R5OiBidWxrUXVlcnlCb2R5ID0ge1xuICAgICAgICByZWNvcmRzOiByZWNvcmRzLm1hcCgocmVjb3JkKSA9PiAoe1xuICAgICAgICAgIGZpZWxkczogcmVjb3JkLFxuICAgICAgICB9KSksXG4gICAgICB9O1xuICAgICAgaWYgKHR5cGVjYXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYm9keS50eXBlY2FzdCA9IHR5cGVjYXN0O1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YTogQWlydGFibGVSZWNvcmRSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3Qoe1xuICAgICAgICBlbmRwb2ludDogdXJsLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAsXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGF0YS5yZWNvcmRzO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIG11bHRpcGxlIHJlY29yZHMgb24gdGhlIHNwZWNpZmllZCB0YWJsZVxuICAgKiBAcGFyYW0gdGFibGUgLSBUYWJsZSBuYW1lXG4gICAqIEBwYXJhbSByZWNvcmRzIC0gQW4gYXJyYXkgb2YgUmVjb3JkIG9iamVjdHNcbiAgICogQHBhcmFtIG9wdHMgLSBBbiBvYmplY3Qgd2l0aCBvcHRpb25zIGZvciB5b3VyIHVwZGF0ZSBzdGF0ZW1lbnRcbiAgICogQHJldHVybnNcbiAgICogQGFzeW5jXG4gICAqL1xuICBidWxrVXBkYXRlID0gYXN5bmMgKFxuICAgIHRhYmxlOiBzdHJpbmcsXG4gICAgcmVjb3JkczogQWlydGFibGVVcGRhdGVSZWNvcmRbXSxcbiAgICBvcHRzPzogdXBkYXRlT3B0cyxcbiAgKTogUHJvbWlzZTxBaXJ0YWJsZVJlY29yZFtdPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNoZWNrQXJnKHRhYmxlLCAndGFibGUnLCAnc3RyaW5nJyk7XG4gICAgICBjaGVja0FyZyhyZWNvcmRzLCAncmVjb3JkcycsICdhcnJheScpO1xuICAgICAgaWYgKG9wdHMpIHtcbiAgICAgICAgY2hlY2tBcmcob3B0cy5kZXN0cnVjdGl2ZSwgJ29wdHMuZGVzY3RydWN0aXZlJywgJ2Jvb2xlYW4nLCBmYWxzZSk7XG4gICAgICAgIGNoZWNrQXJnKG9wdHMudHlwZWNhc3QsICdvcHRzLnR5cGVjYXN0JywgJ2Jvb2xlYW4nLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVUkx9LyR7dGhpcy5iYXNlfS8ke3RhYmxlfWA7XG4gICAgICBjb25zdCBib2R5OiBidWxrUXVlcnlCb2R5ID0geyByZWNvcmRzIH07XG4gICAgICBpZiAob3B0cz8udHlwZWNhc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBib2R5LnR5cGVjYXN0ID0gb3B0cz8udHlwZWNhc3Q7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRhOiBBaXJ0YWJsZVJlY29yZFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdCh7XG4gICAgICAgIGVuZHBvaW50OiB1cmwsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBtZXRob2Q6IG9wdHM/LmRlc3RydWN0aXZlID8gJ3B1dCcgOiAncGF0Y2gnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBpbnN0YW5jZTogdGhpcyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRhdGEucmVjb3JkcztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGVsZXRlcyBtdWx0aXBsZSByZWNvcmRzIGZyb20gdGhlIHNwZWNpZmllZCB0YWJsZVxuICAgKiBAcGFyYW0gdGFibGUgLSBUYWJsZSBuYW1lXG4gICAqIEBwYXJhbSBpZHMgLSBBcnJheSBvZiBBaXJ0YWJsZSByZWNvcmQgSURzXG4gICAqIEByZXR1cm5zXG4gICAqIEBhc3luY1xuICAgKi9cbiAgYnVsa0RlbGV0ZSA9IGFzeW5jIChcbiAgICB0YWJsZTogc3RyaW5nLFxuICAgIGlkczogc3RyaW5nW10sXG4gICk6IFByb21pc2U8RGVsZXRlUmVzcG9uc2VbXT4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjaGVja0FyZyh0YWJsZSwgJ3RhYmxlJywgJ3N0cmluZycpO1xuICAgICAgY2hlY2tBcmcoaWRzLCAnaWRzJywgJ2FycmF5Jyk7XG4gICAgICBsZXQgcXVlcnkgPSAnJztcbiAgICAgIGlkcy5mb3JFYWNoKChpZCwgaSkgPT4ge1xuICAgICAgICBpZiAoaSAhPT0gMCkge1xuICAgICAgICAgIHF1ZXJ5ID0gYCR7cXVlcnl9JnJlY29yZHNbXT0ke2lkfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcXVlcnkgPSBgcmVjb3Jkc1tdPSR7aWR9YDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVUkx9LyR7dGhpcy5iYXNlfS8ke3RhYmxlfT8ke2VuY29kZVVSSShxdWVyeSl9YDtcbiAgICAgIGNvbnN0IGRhdGE6IEFpcnRhYmxlRGVsZXRlZFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdCh7XG4gICAgICAgIGVuZHBvaW50OiB1cmwsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBtZXRob2Q6ICdkZWxldGUnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGF0YS5yZWNvcmRzO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSByZWNvcmQgZXhpc3RzLCBhbmQgaWYgaXQgZG9lcyB1cGRhdGVzIGl0LCBpZiBub3QgY3JlYXRlcyBhIG5ldyByZWNvcmQuXG4gICAqIEBwYXJhbSB0YWJsZSAtIFRhYmxlIG5hbWVcbiAgICogQHBhcmFtIGZpbHRlclN0cmluZyAtIFRoZSBmaWx0ZXIgZm9ybXVsYSBzdHJpbmcgdXNlZCB0byBjaGVjayBmb3IgYSByZWNvcmRcbiAgICogQHBhcmFtIHJlY29yZCAtIFJlY29yZCBvYmplY3QgdXNlZCB0byBlaXRoZXIgdXBkYXRlIG9yIGNyZWF0ZSBhIHJlY29yZFxuICAgKiBAcGFyYW0gb3B0cyAtIEFuIG9iamVjdCB3aXRoIG9wdGlvbnMgZm9yIHlvdXIgdXBkYXRlIHN0YXRlbWVudFxuICAgKiBAcmV0dXJuc1xuICAgKiBAYXN5bmNcbiAgICovXG4gIHVwc2VydFJlY29yZCA9IGFzeW5jIChcbiAgICB0YWJsZTogc3RyaW5nLFxuICAgIGZpbHRlclN0cmluZzogc3RyaW5nLFxuICAgIHJlY29yZDogRmllbGRzLFxuICAgIG9wdHM/OiB1cGRhdGVPcHRzLFxuICApOiBQcm9taXNlPEFpcnRhYmxlUmVjb3JkPiA9PiB7XG4gICAgY2hlY2tBcmcodGFibGUsICd0YWJsZScsICdzdHJpbmcnKTtcbiAgICBjaGVja0FyZyhmaWx0ZXJTdHJpbmcsICdmaWx0ZXJTdHJpbmcnLCAnc3RyaW5nJyk7XG4gICAgY2hlY2tBcmcocmVjb3JkLCAncmVjb3JkJywgJ29iamVjdCcpO1xuICAgIGlmIChvcHRzKSB7XG4gICAgICBjaGVja0FyZyhvcHRzLmRlc3RydWN0aXZlLCAnb3B0cy5kZXNjdHJ1Y3RpdmUnLCAnYm9vbGVhbicsIGZhbHNlKTtcbiAgICAgIGNoZWNrQXJnKG9wdHMudHlwZWNhc3QsICdvcHRzLnR5cGVjYXN0JywgJ2Jvb2xlYW4nLCBmYWxzZSk7XG4gICAgfVxuICAgIGNvbnN0IGV4aXN0cyA9IGF3YWl0IHRoaXMuc2VsZWN0KHRhYmxlLCB7IGZpbHRlckJ5Rm9ybXVsYTogZmlsdGVyU3RyaW5nIH0pO1xuICAgIGlmICghZXhpc3RzWzBdKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5jcmVhdGVSZWNvcmQodGFibGUsIHJlY29yZCwgb3B0cz8udHlwZWNhc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy51cGRhdGVSZWNvcmQoXG4gICAgICAgIHRhYmxlLFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IGV4aXN0c1swXS5pZCxcbiAgICAgICAgICBmaWVsZHM6IHJlY29yZCxcbiAgICAgICAgfSxcbiAgICAgICAgb3B0cyxcbiAgICAgICk7XG4gICAgfVxuICB9O1xufVxuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgd2luZG93LkFzeW5jQWlydGFibGUgPSBBc3luY0FpcnRhYmxlO1xufVxuXG5leHBvcnQgY29uc3QgQ1JFQVRFRF9USU1FID0gKCk6IHN0cmluZyA9PiAnQ1JFQVRFRF9USU1FKCknO1xuZXhwb3J0IGNvbnN0IE5PVyA9ICgpOiBzdHJpbmcgPT4gJ05PVygpJztcbmV4cG9ydCBjb25zdCBUT0RBWSA9ICgpOiBzdHJpbmcgPT4gJ1RPREFZKCknO1xuZXhwb3J0IGNvbnN0IEVSUk9SID0gKCk6IHN0cmluZyA9PiAnRVJST1IoKSc7XG5leHBvcnQgY29uc3QgTEFTVF9NT0RJRklFRF9USU1FID0gKCk6IHN0cmluZyA9PiAnTEFTVF9NT0RJRklFRF9USU1FKCknO1xuZXhwb3J0IGNvbnN0IFJFQ09SRF9JRCA9ICgpOiBzdHJpbmcgPT4gJ1JFQ09SRF9JRCgpJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==